<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 Building an R Package | Using R Packages for Reproducible Workflows</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 Building an R Package | Using R Packages for Reproducible Workflows" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="michaeldumelle/R-Packages-Reproducible-Workflows-Book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 Building an R Package | Using R Packages for Reproducible Workflows" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  

<meta name="author" content="Michael Dumelle" />


<meta name="date" content="2021-09-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="r-package-rc.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Using R Packages for Reproducible Workflows</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#schedule"><i class="fa fa-check"></i>Schedule</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-me"><i class="fa fa-check"></i>About Me</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#getting-started"><i class="fa fa-check"></i>Getting Started</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="r-package.html"><a href="r-package.html"><i class="fa fa-check"></i><b>1</b> Building an R Package</a><ul>
<li class="chapter" data-level="1.1" data-path="r-package.html"><a href="r-package.html#what-is-an-r-package"><i class="fa fa-check"></i><b>1.1</b> What is an R Package?</a><ul>
<li class="chapter" data-level="1.1.1" data-path="r-package.html"><a href="r-package.html#ex-set1"><i class="fa fa-check"></i><b>1.1.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="r-package.html"><a href="r-package.html#creating-an-r-package"><i class="fa fa-check"></i><b>1.2</b> Creating an R Package</a><ul>
<li class="chapter" data-level="1.2.1" data-path="r-package.html"><a href="r-package.html#the-motivating-dataset"><i class="fa fa-check"></i><b>1.2.1</b> The Motivating Dataset</a></li>
<li class="chapter" data-level="1.2.2" data-path="r-package.html"><a href="r-package.html#first-step"><i class="fa fa-check"></i><b>1.2.2</b> The First Step</a></li>
<li class="chapter" data-level="1.2.3" data-path="r-package.html"><a href="r-package.html#first-function"><i class="fa fa-check"></i><b>1.2.3</b> The First Function</a></li>
<li class="chapter" data-level="1.2.4" data-path="r-package.html"><a href="r-package.html#load-all"><i class="fa fa-check"></i><b>1.2.4</b> <code>devtools::load_all()</code></a><ul>
<li class="chapter" data-level="1.2.4.1" data-path="r-package.html"><a href="r-package.html#ex-set2"><i class="fa fa-check"></i><b>1.2.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="1.2.5" data-path="r-package.html"><a href="r-package.html#creating-data"><i class="fa fa-check"></i><b>1.2.5</b> Creating Package Data</a></li>
<li class="chapter" data-level="1.2.6" data-path="r-package.html"><a href="r-package.html#roxygen"><i class="fa fa-check"></i><b>1.2.6</b> roxygen Comments</a></li>
<li class="chapter" data-level="1.2.7" data-path="r-package.html"><a href="r-package.html#second-function"><i class="fa fa-check"></i><b>1.2.7</b> The Second Function</a><ul>
<li class="chapter" data-level="1.2.7.1" data-path="r-package.html"><a href="r-package.html#ex-set3"><i class="fa fa-check"></i><b>1.2.7.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="1.2.8" data-path="r-package.html"><a href="r-package.html#description"><i class="fa fa-check"></i><b>1.2.8</b> <code>DESCRIPTION</code></a></li>
<li class="chapter" data-level="1.2.9" data-path="r-package.html"><a href="r-package.html#namespace"><i class="fa fa-check"></i><b>1.2.9</b> <code>NAMESPACE</code></a></li>
<li class="chapter" data-level="1.2.10" data-path="r-package.html"><a href="r-package.html#testthat"><i class="fa fa-check"></i><b>1.2.10</b> testthat</a><ul>
<li class="chapter" data-level="1.2.10.1" data-path="r-package.html"><a href="r-package.html#ex-set4"><i class="fa fa-check"></i><b>1.2.10.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="1.2.11" data-path="r-package.html"><a href="r-package.html#license"><i class="fa fa-check"></i><b>1.2.11</b> License</a></li>
<li class="chapter" data-level="1.2.12" data-path="r-package.html"><a href="r-package.html#vignettes"><i class="fa fa-check"></i><b>1.2.12</b> Vignettes</a></li>
<li class="chapter" data-level="1.2.13" data-path="r-package.html"><a href="r-package.html#check"><i class="fa fa-check"></i><b>1.2.13</b> <code>devtools::check()</code></a></li>
<li class="chapter" data-level="1.2.14" data-path="r-package.html"><a href="r-package.html#install"><i class="fa fa-check"></i><b>1.2.14</b> <code>devtools::install()</code></a><ul>
<li class="chapter" data-level="1.2.14.1" data-path="r-package.html"><a href="r-package.html#ex-set5"><i class="fa fa-check"></i><b>1.2.14.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="1.2.15" data-path="r-package.html"><a href="r-package.html#congratulations"><i class="fa fa-check"></i><b>1.2.15</b> Congratulations</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="r-package.html"><a href="r-package.html#debugging"><i class="fa fa-check"></i><b>1.3</b> Debugging</a><ul>
<li class="chapter" data-level="1.3.1" data-path="r-package.html"><a href="r-package.html#error-onematch"><i class="fa fa-check"></i><b>1.3.1</b> A Mysterious Error Message</a></li>
<li class="chapter" data-level="1.3.2" data-path="r-package.html"><a href="r-package.html#traceback"><i class="fa fa-check"></i><b>1.3.2</b> <code>traceback()</code></a></li>
<li class="chapter" data-level="1.3.3" data-path="r-package.html"><a href="r-package.html#browser"><i class="fa fa-check"></i><b>1.3.3</b> <code>browser()</code></a></li>
<li class="chapter" data-level="1.3.4" data-path="r-package.html"><a href="r-package.html#error-zeromatch"><i class="fa fa-check"></i><b>1.3.4</b> Another Error – No Mysterious Message</a><ul>
<li class="chapter" data-level="1.3.4.1" data-path="r-package.html"><a href="r-package.html#ex-set6"><i class="fa fa-check"></i><b>1.3.4.1</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="r-package.html"><a href="r-package.html#add-resources"><i class="fa fa-check"></i><b>1.4</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-package-rc.html"><a href="r-package-rc.html"><i class="fa fa-check"></i><b>2</b> Making an R Package a Research Compendium</a><ul>
<li class="chapter" data-level="2.1" data-path="r-package-rc.html"><a href="r-package-rc.html#what-is-a-rc"><i class="fa fa-check"></i><b>2.1</b> What is a Research Compendium?</a><ul>
<li class="chapter" data-level="2.1.1" data-path="r-package-rc.html"><a href="r-package-rc.html#ex-set7"><i class="fa fa-check"></i><b>2.1.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="r-package-rc.html"><a href="r-package-rc.html#why-a-rc"><i class="fa fa-check"></i><b>2.2</b> Why a Research Compendium?</a><ul>
<li class="chapter" data-level="2.2.1" data-path="r-package-rc.html"><a href="r-package-rc.html#ex-set8"><i class="fa fa-check"></i><b>2.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-package-rc.html"><a href="r-package-rc.html#why-r-pack-for-rc"><i class="fa fa-check"></i><b>2.3</b> Why an R Package for a Research Compendium?</a></li>
<li class="chapter" data-level="2.4" data-path="r-package-rc.html"><a href="r-package-rc.html#rprw-to-rc"><i class="fa fa-check"></i><b>2.4</b> Turning RPRW Into A Research Compendium</a><ul>
<li class="chapter" data-level="2.4.1" data-path="r-package-rc.html"><a href="r-package-rc.html#ex-set9"><i class="fa fa-check"></i><b>2.4.1</b> Exercises</a></li>
<li class="chapter" data-level="2.4.2" data-path="r-package-rc.html"><a href="r-package-rc.html#citation"><i class="fa fa-check"></i><b>2.4.2</b> Adding a Citation</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="r-package-rc.html"><a href="r-package-rc.html#rc-recap"><i class="fa fa-check"></i><b>2.5</b> Research Compendium Recap</a></li>
<li class="chapter" data-level="2.6" data-path="r-package-rc.html"><a href="r-package-rc.html#sharing-rc"><i class="fa fa-check"></i><b>2.6</b> Sharing Your Research Compendium</a></li>
<li class="chapter" data-level="2.7" data-path="r-package-rc.html"><a href="r-package-rc.html#hosting-your-research-compendium"><i class="fa fa-check"></i><b>2.7</b> Hosting Your Research Compendium</a><ul>
<li class="chapter" data-level="2.7.1" data-path="r-package-rc.html"><a href="r-package-rc.html#ex-set10"><i class="fa fa-check"></i><b>2.7.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="r-package-rc.html"><a href="r-package-rc.html#ex-rc"><i class="fa fa-check"></i><b>2.8</b> An Example R Package Reserach Compendium</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="extensions.html"><a href="extensions.html"><i class="fa fa-check"></i><b>3</b> Extensions</a><ul>
<li class="chapter" data-level="3.1" data-path="extensions.html"><a href="extensions.html#r-projects"><i class="fa fa-check"></i><b>3.1</b> R Projects</a><ul>
<li class="chapter" data-level="3.1.1" data-path="extensions.html"><a href="extensions.html#ex-set11"><i class="fa fa-check"></i><b>3.1.1</b> Exercises</a></li>
<li class="chapter" data-level="3.1.2" data-path="extensions.html"><a href="extensions.html#renv"><i class="fa fa-check"></i><b>3.1.2</b> renv</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="extensions.html"><a href="extensions.html#rmarkdown"><i class="fa fa-check"></i><b>3.2</b> R Markdown</a><ul>
<li class="chapter" data-level="3.2.1" data-path="extensions.html"><a href="extensions.html#ex-set12"><i class="fa fa-check"></i><b>3.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="extensions.html"><a href="extensions.html#rticles"><i class="fa fa-check"></i><b>3.3</b> rticles</a><ul>
<li class="chapter" data-level="3.3.1" data-path="extensions.html"><a href="extensions.html#ex-set13"><i class="fa fa-check"></i><b>3.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="extensions.html"><a href="extensions.html#git-github"><i class="fa fa-check"></i><b>3.4</b> Git and GitHub</a><ul>
<li class="chapter" data-level="3.4.1" data-path="extensions.html"><a href="extensions.html#cloning-a-github-repository-in-rstudio"><i class="fa fa-check"></i><b>3.4.1</b> Cloning a GitHub Repository in RStudio</a></li>
<li class="chapter" data-level="3.4.2" data-path="extensions.html"><a href="extensions.html#gitignore"><i class="fa fa-check"></i><b>3.4.2</b> <code>.gitignore</code></a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="extensions.html"><a href="extensions.html#ci"><i class="fa fa-check"></i><b>3.5</b> Continuous Integration</a></li>
<li class="chapter" data-level="3.6" data-path="extensions.html"><a href="extensions.html#style"><i class="fa fa-check"></i><b>3.6</b> Code Style</a></li>
<li class="chapter" data-level="3.7" data-path="extensions.html"><a href="extensions.html#add-tips"><i class="fa fa-check"></i><b>3.7</b> Additional Tips</a><ul>
<li class="chapter" data-level="3.7.1" data-path="extensions.html"><a href="extensions.html#ex-set14"><i class="fa fa-check"></i><b>3.7.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="extensions.html"><a href="extensions.html#thank-you"><i class="fa fa-check"></i><b>3.8</b> Thank you!</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exercise-solutions.html"><a href="exercise-solutions.html"><i class="fa fa-check"></i><b>4</b> Exercise Solutions</a><ul>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#building-an-r-package"><i class="fa fa-check"></i>Building an R Package</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#making-an-r-package-a-research-compendium"><i class="fa fa-check"></i>Making an R Package a Research Compendium</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#extensions-1"><i class="fa fa-check"></i>Extensions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Using R Packages for Reproducible Workflows</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-package" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> Building an R Package</h1>
<div id="what-is-an-r-package" class="section level2">
<h2><span class="header-section-number">1.1</span> What is an R Package?</h2>
<p>An R package is a collection of code, data, documentation, and tests with a particular structure that can be shared with others. R packages are commonly downloaded from the Comprehensive R Archive Network (CRAN) (<a href="https://cran.r-project.org/">external link</a>). You can install them from CRAN by running</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="r-package.html#cb6-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;package_name&quot;</span>)</span></code></pre></div>
<p>load them by running</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="r-package.html#cb7-1"></a><span class="kw">library</span>(package_name)</span></code></pre></div>
<p>and get help by running</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="r-package.html#cb8-1"></a>?package_name</span></code></pre></div>
<p>One of the many reasons R packages are so useful is because they are the fundamental vessel by which to share R code. If your code is in a package, others can easily download and use it – this is the essence of open-source software! Most R users have some experience with at least one package, so they will likely be familiar with how to use yours after you share it. But sharing code is not the only benefit of creating packages – a major benefit of using packages is that they enforce your code is built using a certain structure. Adhering to this structure:</p>
<ol style="list-style-type: decimal">
<li>saves you time – You don’t need to think about how to organize your files because packages tell you how these files must be organized!
<ul>
<li>This rigid structure is especially helpful for me – before I started creating packages my R scripts would be saved in all sorts of locations with no particular organization structure. This made it <em>very challenging</em> to come back to my work later and find a particular script.</li>
</ul></li>
<li>gives you access to a set of standardized tools – people have created many useful tools that work with R packages, so take advantage of them!
<ul>
<li>e.g. devtools and usethis</li>
</ul></li>
<li>forces you to frequently document your work
<ul>
<li>Before I started using R packages, when I would come back my old code, I was convinced someone else wrote it – I basically had to rewrite it all to understand it. R packages help prevent this.</li>
</ul></li>
<li>guides your research compendium</li>
<li>can make your research compendium completely reproducible and easy to share
<ul>
<li>This is because packages are built upon R projects, which we discuss more later.</li>
</ul></li>
</ol>
<div id="ex-set1" class="section level3">
<h3><span class="header-section-number">1.1.1</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>What are some of your favorite R packages?</p></li>
<li><p>Of those we have talked about so far, what benefits of R packages are most appealing to you?</p></li>
</ol>
</div>
</div>
<div id="creating-an-r-package" class="section level2">
<h2><span class="header-section-number">1.2</span> Creating an R Package</h2>
<p>Next we will create the RPRW package together! If this is your first R package, then an extra special congratulations to you – this is a big milestone! For those interested in viewing the source code of the RPRW package, visit the GitHub repository here (<a href="https://github.com/michaeldumelle/RPRW">external link</a>).</p>
<div id="the-motivating-dataset" class="section level3">
<h3><span class="header-section-number">1.2.1</span> The Motivating Dataset</h3>
<p>Suppose we want RPRW to summarize the length (in kilometers) and discharge (meters per second cubed) of North American rivers. Suppose we also want RPRW to easily accommodate many subsets of rivers based on their name. Below are our data of interest:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="r-package.html#cb9-1"></a>river &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</span>
<span id="cb9-2"><a href="r-package.html#cb9-2"></a>  <span class="dt">Missouri =</span> <span class="kw">c</span>(<span class="dv">3768</span>, <span class="dv">1956</span>),</span>
<span id="cb9-3"><a href="r-package.html#cb9-3"></a>  <span class="dt">Mississippi =</span> <span class="kw">c</span>(<span class="dv">3544</span>, <span class="dv">18400</span>),</span>
<span id="cb9-4"><a href="r-package.html#cb9-4"></a>  <span class="dt">Yukon =</span> <span class="kw">c</span>(<span class="dv">3190</span>, <span class="dv">6340</span>),</span>
<span id="cb9-5"><a href="r-package.html#cb9-5"></a>  <span class="dt">Colorado =</span> <span class="kw">c</span>(<span class="dv">2330</span>, <span class="dv">40</span>),</span>
<span id="cb9-6"><a href="r-package.html#cb9-6"></a>  <span class="dt">Arkansas =</span> <span class="kw">c</span>(<span class="dv">2322</span>, <span class="dv">1004</span>),</span>
<span id="cb9-7"><a href="r-package.html#cb9-7"></a>  <span class="dt">Columbia =</span> <span class="kw">c</span>(<span class="dv">2000</span>, <span class="dv">7730</span>),</span>
<span id="cb9-8"><a href="r-package.html#cb9-8"></a>  <span class="dt">Red =</span> <span class="kw">c</span>(<span class="dv">1811</span>, <span class="dv">852</span>),</span>
<span id="cb9-9"><a href="r-package.html#cb9-9"></a>  <span class="dt">Canadian =</span> <span class="kw">c</span>(<span class="dv">1458</span>, <span class="dv">174</span>)</span>
<span id="cb9-10"><a href="r-package.html#cb9-10"></a>) </span>
<span id="cb9-11"><a href="r-package.html#cb9-11"></a><span class="kw">rownames</span>(river) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;length&quot;</span>, <span class="st">&quot;discharge&quot;</span>)</span>
<span id="cb9-12"><a href="r-package.html#cb9-12"></a><span class="kw">print</span>(river)</span></code></pre></div>
<pre><code>#&gt;           Missouri Mississippi Yukon Colorado Arkansas Columbia  Red Canadian
#&gt; length        3768        3544  3190     2330     2322     2000 1811     1458
#&gt; discharge     1956       18400  6340       40     1004     7730  852      174</code></pre>
<p>If the structure of <code>river</code> is atypical to you, see Exercise 3.7.1.1 (<a href="extensions.html#ex-set14">internal link</a>).</p>
</div>
<div id="first-step" class="section level3">
<h3><span class="header-section-number">1.2.2</span> The First Step</h3>
<p>The first step is using devtools to create a package template for us. There are a two ways to easily create this template. First, in editor window (upper-left pane in RStudio), click “File -&gt; New Project -&gt; New Directory -&gt; R Package -&gt; Create Project”. An alternative approach is to run</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="r-package.html#cb11-1"></a>usethis<span class="op">::</span><span class="kw">create_package</span>(<span class="st">&quot;path_to_RPRW_package/RPRW&quot;</span>)</span></code></pre></div>
<pre><code>√ Creating &#39;path_to_RPRW_package/RPRW/&#39;
√ Setting active project to &#39;path_to_RPRW_package/RPRW&#39;
√ Creating &#39;R/&#39;
√ Writing &#39;DESCRIPTION&#39;
Package: RPRW
Title: What the Package Does (One Line, Title Case)
Version: 0.0.0.9000
Authors@R (parsed):
    * First Last &lt;first.last@example.com&gt; [aut, cre] (YOUR-ORCID-ID)
Description: What the package does (one paragraph).
License: `use_mit_license()`, `use_gpl3_license()` or friends to
    pick a license
Encoding: UTF-8
LazyData: true
Roxygen: list(markdown = TRUE)
RoxygenNote: 7.1.1
√ Writing &#39;NAMESPACE&#39;
√ Writing &#39;RPRW.Rproj&#39;
√ Adding &#39;^RPRW\\.Rproj$&#39; to &#39;.Rbuildignore&#39;
√ Adding &#39;.Rproj.user&#39; to &#39;.gitignore&#39;
√ Adding &#39;^\\.Rproj\\.user$&#39; to &#39;.Rbuildignore&#39;
√ Opening &#39;path_to_RPRW_package/RPRW/&#39; in new RStudio session
√ Setting active project to &#39;&lt;no active project&gt;&#39;
√ Setting active project to &#39;path_to_RPRW_package/RPRW&#39;</code></pre>
<p>The package is placed inside a folder named “RPRW” created at the the path on your computer named “path_to_RPRW_package”. RStudio will automatically create a new window and you will see that in the “Files” tab of the bottom-right RStudio pane, there are several files (located in “path_to_RPRW_package/RPRW”)
<img src="images/newrpack_files.PNG" width="100%" /></p>
<p>Notice the <code>.Rproj</code> file, which indicates that your package is also an R project. Also notice that the top-right RStudio pane now has a “Build” tab, which contains some useful tools for your R package.</p>
</div>
<div id="first-function" class="section level3">
<h3><span class="header-section-number">1.2.3</span> The First Function</h3>
<p>R packages are composed of several functions that work together to accomplish a set of goals. The folder named “R” is where functions in your package live. Let’s create our first function, <code>river_means()</code>, which finds the mean river length and discharge of desired rivers. To create an R script in the R folder named <code>river_means.R</code>, run</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="r-package.html#cb13-1"></a>usethis<span class="op">::</span><span class="kw">use_r</span>(<span class="st">&quot;river_means&quot;</span>)</span></code></pre></div>
<p>You will see some output in the console</p>
<pre><code>* Modify &#39;R/river_means.R&#39;
* Call `use_test()` to create a matching test file </code></pre>
<p>and the appropriate file now in your R folder.
<img src="images/newrpack_function.PNG" width="100%" /></p>
<p>Generally, the name of your file should match the name of the function, and you should use separate files for separate functions. More experienced R users – it is okay to break this rule every once in a while depending on the context.</p>
<p>The body of <code>river_means()</code> looks like</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="r-package.html#cb15-1"></a>river_means &lt;-<span class="st"> </span><span class="cf">function</span>(data, pattern) {</span>
<span id="cb15-2"><a href="r-package.html#cb15-2"></a>  desired_rivers &lt;-<span class="st"> </span><span class="kw">grep</span>(pattern, <span class="kw">names</span>(data))</span>
<span id="cb15-3"><a href="r-package.html#cb15-3"></a>  new_data &lt;-<span class="st"> </span>data[, desired_rivers]</span>
<span id="cb15-4"><a href="r-package.html#cb15-4"></a>  <span class="kw">rowMeans</span>(new_data)</span>
<span id="cb15-5"><a href="r-package.html#cb15-5"></a>}</span></code></pre></div>
<p>There are two arguments in <code>river_means()</code>:</p>
<ol style="list-style-type: decimal">
<li><code>data</code>: A data frame (whose rows represent length or discharge and whose columns represent rivers)
<ul>
<li>Making <code>data</code> the first argument to <code>river_means()</code> makes it naturally pipeable (<a href="https://r4ds.had.co.nz/pipes.html">external link</a>)</li>
</ul></li>
<li><code>pattern</code>: A character string indicating the pattern by which to subset the rivers in <code>data</code> before calculating means (all rivers whose names satisfy the pattern are kept)</li>
</ol>
<p>There are three lines of code in <code>river_means()</code>:</p>
<ol style="list-style-type: decimal">
<li>Find the variables (rivers) in <code>data</code> whose names contain the pattern.</li>
<li>Subset <code>data</code> to include only the rivers whose names contain the pattern</li>
<li>Find the mean length and discharge of the rivers whose names contain the pattern</li>
</ol>
<p>By default, the function returns the object evaluated by its last line of code. So <code>river_means()</code> returns the output from <code>rowMeans()</code>. You can force the function to return a different object earlier using <code>return(object)</code>.</p>
<p>You can leave comments in your function by prefixing a line with <code>#</code>. Comments are used to communicate in plain language the intent of your code. Leaving comments is usually good practice because it helps others (including future you) better understand the goals of your code.</p>
</div>
<div id="load-all" class="section level3">
<h3><span class="header-section-number">1.2.4</span> <code>devtools::load_all()</code></h3>
<p>Now that we have written <code>river_means()</code>, it is natural to want to try it out. One approach is to run <code>river_means()</code> (either in the “R/river_means.R” script or by copying and pasting <code>river_means()</code> into the console). Another approach is to load <code>river_means()</code> by running</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="r-package.html#cb16-1"></a><span class="kw">source</span>(<span class="st">&quot;R/river_means.R&quot;</span>)</span></code></pre></div>
<p>These approaches put <code>river_means()</code> in the global environment (look at the environment tab in the upper-right pane of RStudio). Unfortunately messing around too much in the global environment can easily introduce errors in your functions or have them behave in unexpected ways.</p>
<p>An alternative approach is to leverage devtools, since after all, you are bothering to create a package, so you may as well use the tools designed for them! The devtools function <code>devtools::load_all()</code> emulates the process of building, installing, and loading a package. This has a few benefits. First, the functions are “sourced” into a better spot (not the global environment). Second, it makes all of your functions available through a single line of code rather than running and/or sourcing several functions separately. I highly recommend you practice using <code>devtools::load_all()</code> instead of navigating the dangerous global environment.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="r-package.html#cb17-1"></a>devtools<span class="op">::</span><span class="kw">load_all</span>()</span></code></pre></div>
<p>Now we get to try out <code>river_means()</code>! Suppose we want to summarize the rivers whose names start with “Mi” (in <code>river</code>, this is only Missouri and Mississippi).</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="r-package.html#cb18-1"></a><span class="kw">river_means</span>(river, <span class="st">&quot;Mi&quot;</span>)</span></code></pre></div>
<pre><code>#&gt;    length discharge 
#&gt;      3656     10178</code></pre>
<p>Next suppose we want to summarize rivers whose names start with “Y” (Yukon) or “R” (Red)?</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="r-package.html#cb20-1"></a><span class="kw">river_means</span>(river, <span class="st">&quot;Y|R&quot;</span>)</span></code></pre></div>
<pre><code>#&gt;    length discharge 
#&gt;    2500.5    3596.0</code></pre>
<p>Hooray – our function works! Give yourself a congratulations :)! And for more on patterns and strings in R, visit here (<a href="https://r4ds.had.co.nz/strings.html">external link</a>) and here (<a href="https://bookdown.org/rdpeng/rprogdatascience/regular-expressions.html#sub-and-gsub">external link</a>).</p>
<div id="ex-set2" class="section level4">
<h4><span class="header-section-number">1.2.4.1</span> Exercises</h4>
<ol style="list-style-type: decimal">
<li><p>How many functions does <code>river_means()</code> call within the body of the function? What package are these functions in?</p></li>
<li><p>Try using <code>river_means()</code> with a few different patterns. Do you notice anything strange?</p></li>
</ol>
</div>
</div>
<div id="creating-data" class="section level3">
<h3><span class="header-section-number">1.2.5</span> Creating Package Data</h3>
<p>So far the <code>river</code> data has been stored in global environment. What if you want to save this data in an easily accessible location and/or share it with others? Another package development tool to the rescue – <code>usethis::use_data()</code> (are you starting to notice the benefits of the additional tools the package structure provides?).</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="r-package.html#cb22-1"></a>usethis<span class="op">::</span><span class="kw">use_data</span>(river)</span></code></pre></div>
<pre><code>√ Creating &#39;data/&#39;
√ Saving &#39;river&#39; to &#39;data/river.rda&#39;</code></pre>
<p>You will see that at the root of your R package (inside “path_to_RPRW_package/RPRW”), there is now a folder called <code>data</code>. In <code>data</code>, there is a file called <code>river.rda</code>. <code>river_rda</code> contains the <code>river</code> data and can now be loaded by running <code>utils::data("river")</code>. For illustration, let’s remove <code>river</code> from our global environment and then load it using <code>utils::data("river")</code> (similar to how we load data from other packages):</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="r-package.html#cb24-1"></a><span class="kw">rm</span>(river) <span class="co"># remove the river data from our global environment</span></span>
<span id="cb24-2"><a href="r-package.html#cb24-2"></a>utils<span class="op">::</span><span class="kw">data</span>(<span class="st">&quot;river&quot;</span>) <span class="co"># load the river data</span></span>
<span id="cb24-3"><a href="r-package.html#cb24-3"></a><span class="kw">print</span>(river) <span class="co"># view the river data</span></span></code></pre></div>
<pre><code>#&gt;           Missouri Mississippi Yukon Colorado Arkansas Columbia  Red Canadian
#&gt; length        3768        3544  3190     2330     2322     2000 1811     1458
#&gt; discharge     1956       18400  6340       40     1004     7730  852      174</code></pre>
</div>
<div id="roxygen" class="section level3">
<h3><span class="header-section-number">1.2.6</span> roxygen Comments</h3>
<p>After writing <code>river_means()</code>, you should document it while its structure is fresh in your mind. This makes it easier for others (including future you) to understand how to use <code>river_means()</code>. Documenting R functions is a bit more complicated than leaving standard comments (<code>#</code>). It requires using of a special type of comment, <em>roxygen</em> comments (view the roxygen2 (<a href="https://roxygen2.r-lib.org/">external link</a>) package for more). roxygen comments are prefixed with <code>#'</code> (instead of <code>#</code>) and have special <strong>tags</strong> associated with them. roxygen comment templates can be automatically inserted into your R script by putting your cursor somewhere in the body of a function and either:</p>
<ol style="list-style-type: decimal">
<li>In the upper-left toolbar, go to “Code -&gt; Insert Roxygen Skeleton”</li>
<li>Pressing <code>Ctrl/Cmd + Alt + Shift + R</code></li>
</ol>
<p>Inserting this roxygen template into <code>river_means()</code> yields</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="r-package.html#cb26-1"></a><span class="co">#&#39; Title</span></span>
<span id="cb26-2"><a href="r-package.html#cb26-2"></a><span class="co">#&#39;</span></span>
<span id="cb26-3"><a href="r-package.html#cb26-3"></a><span class="co">#&#39; @param data </span></span>
<span id="cb26-4"><a href="r-package.html#cb26-4"></a><span class="co">#&#39; @param pattern </span></span>
<span id="cb26-5"><a href="r-package.html#cb26-5"></a><span class="co">#&#39;</span></span>
<span id="cb26-6"><a href="r-package.html#cb26-6"></a><span class="co">#&#39; @return</span></span>
<span id="cb26-7"><a href="r-package.html#cb26-7"></a><span class="co">#&#39; @export</span></span>
<span id="cb26-8"><a href="r-package.html#cb26-8"></a><span class="co">#&#39;</span></span>
<span id="cb26-9"><a href="r-package.html#cb26-9"></a><span class="co">#&#39; @examples</span></span>
<span id="cb26-10"><a href="r-package.html#cb26-10"></a>river_means &lt;-<span class="st"> </span><span class="cf">function</span>(data, pattern) {</span>
<span id="cb26-11"><a href="r-package.html#cb26-11"></a>  desired_rivers &lt;-<span class="st"> </span><span class="kw">grep</span>(pattern, <span class="kw">names</span>(data))</span>
<span id="cb26-12"><a href="r-package.html#cb26-12"></a>  new_data &lt;-<span class="st"> </span>data[, desired_rivers]</span>
<span id="cb26-13"><a href="r-package.html#cb26-13"></a>  <span class="kw">rowMeans</span>(new_data)</span>
<span id="cb26-14"><a href="r-package.html#cb26-14"></a>}</span></code></pre></div>
<p>The <code>@</code> indicates the tag. The template inserts four tags for us:</p>
<ol style="list-style-type: decimal">
<li><code>@param</code>: to document function arguments</li>
<li><code>@return</code>: to document function output</li>
<li><code>@export</code>: to make the function available after installing the package
<ul>
<li>You may not want to export every function in your package (e.g. helpers)</li>
</ul></li>
<li><code>@examples</code>: to provide examples of using the function</li>
</ol>
<p>Let’s document <code>river_means()</code>:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="r-package.html#cb27-1"></a><span class="co">#&#39; Means of river lengths and discharges</span></span>
<span id="cb27-2"><a href="r-package.html#cb27-2"></a><span class="co">#&#39;</span></span>
<span id="cb27-3"><a href="r-package.html#cb27-3"></a><span class="co">#&#39; @param data A data frame with two rows. The first row indicates river length and</span></span>
<span id="cb27-4"><a href="r-package.html#cb27-4"></a><span class="co">#&#39;   second row indicates river discharge. The columns of data indicate river names.</span></span>
<span id="cb27-5"><a href="r-package.html#cb27-5"></a><span class="co">#&#39; @param pattern A pattern by which to include only particular rivers</span></span>
<span id="cb27-6"><a href="r-package.html#cb27-6"></a><span class="co">#&#39;</span></span>
<span id="cb27-7"><a href="r-package.html#cb27-7"></a><span class="co">#&#39; @return The mean river length and mean river discharge for the desired rivers</span></span>
<span id="cb27-8"><a href="r-package.html#cb27-8"></a><span class="co">#&#39; @export</span></span>
<span id="cb27-9"><a href="r-package.html#cb27-9"></a><span class="co">#&#39;</span></span>
<span id="cb27-10"><a href="r-package.html#cb27-10"></a><span class="co">#&#39; @examples</span></span>
<span id="cb27-11"><a href="r-package.html#cb27-11"></a><span class="co">#&#39; data(&quot;river&quot;)</span></span>
<span id="cb27-12"><a href="r-package.html#cb27-12"></a><span class="co">#&#39; river_means(river, pattern = &quot;Mi&quot;)</span></span>
<span id="cb27-13"><a href="r-package.html#cb27-13"></a>river_means &lt;-<span class="st"> </span><span class="cf">function</span>(data, pattern) {</span>
<span id="cb27-14"><a href="r-package.html#cb27-14"></a>  desired_rivers &lt;-<span class="st"> </span><span class="kw">grep</span>(pattern, <span class="kw">names</span>(data))</span>
<span id="cb27-15"><a href="r-package.html#cb27-15"></a>  new_data &lt;-<span class="st"> </span>data[, desired_rivers]</span>
<span id="cb27-16"><a href="r-package.html#cb27-16"></a>  <span class="kw">rowMeans</span>(new_data)</span>
<span id="cb27-17"><a href="r-package.html#cb27-17"></a>}</span></code></pre></div>
<p>Next we need to turn these roxygen comments into a new format that powers the actual documentation. The details of this new format are not critical – the important take-away is that the roxygen comments are automatically transformed to the new format by running</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="r-package.html#cb28-1"></a>devtools<span class="op">::</span><span class="kw">document</span>()</span></code></pre></div>
<pre><code>i Updating RPRW documentation
i Loading RPRW
Writing NAMESPACE
Writing river_means.Rd</code></pre>
<p>From now on I’ll stop reminding you every time, but again, notice the benefits of leveraging tools that use the package structure. <code>devtools::document()</code> creates a new folder at the root of the package called <code>man</code> that now contains a file called <code>river_means.Rd</code>
<img src="images/newrpack_files2.PNG" width="100%" /></p>
<p>The <code>river_means.md</code> file is the result of transforming the roxygen comments to documentation that packages use. As you can see, <code>river_means.Rd</code> is a bit more complicated than the roxygen comments in <code>river_means()</code>. Luckily, <code>river_means.Rd</code> is automatically generated. The broader, important point of all this is that after running <code>devtools::document()</code>, you can view the documentation of <code>river_means()</code>!</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="r-package.html#cb30-1"></a>?river_means</span></code></pre></div>
<p><img src="images/newrpack_example.PNG" width="100%" /></p>
<p>For more on documentation in R packages (including documenting data), visit here (<a href="https://r-pkgs.org/man.html#man">external link</a>) and the vignettes here (<a href="https://cran.r-project.org/web/packages/roxygen2/index.html">external link</a>). Though we skip documenting the river data here, the RPRW package available from GitHub does document it (the documentation can be viewed by running <code>?river</code> after <code>library(RPRW)</code>).</p>
</div>
<div id="second-function" class="section level3">
<h3><span class="header-section-number">1.2.7</span> The Second Function</h3>
<p>You may be wondering how to tell your package to use functions from other packages. <code>river_means()</code>uses a few other functions available in R (see Exercise 1.1.1.1 (<a href="r-package.html#ex-set1">internal link</a>): <code>&lt;-</code>, <code>grep()</code>, <code>names()</code>, <code>[</code>, and <code>rowMeans()</code>. How does R know how to use the right <code>names()</code> function when executing <code>river_means()</code>? These questions related to an package’s <code>NAMESPACE</code>, which we discuss a bit later.</p>
<p>The functions used in <code>river_means()</code> are all from the base package in R (<a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/00Index.html">external link</a>). The base package is automatically installed alongside R. When using functions from the base package in your package, you don’t have to give R any special warning. This is the only package that operates this way, however. When using functions from other packages in your package, you need to let R know what package that function comes from (this is true even for other packages automatically installed alongside R - datasets, graphics, grDevices, methods, stats, and utils). To illustrate this process, suppose we want to create a new function in our package called <code>river_medians()</code> that operates like <code>river_means()</code> but computes medians instead of means. First we create the script in our R folder by running</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="r-package.html#cb31-1"></a>usethis<span class="op">::</span><span class="kw">use_r</span>(<span class="st">&quot;river_medians&quot;</span>)</span></code></pre></div>
<p>Then we can write <code>river_medians()</code> (there is no <code>rowMedians()</code> function so we need to use <code>apply()</code> to summarize across rows – see <code>?apply</code> for more detail):</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="r-package.html#cb32-1"></a>river_medians &lt;-<span class="st"> </span><span class="cf">function</span>(data, pattern) {</span>
<span id="cb32-2"><a href="r-package.html#cb32-2"></a>  desired_rivers &lt;-<span class="st"> </span><span class="kw">grep</span>(pattern, <span class="kw">names</span>(data))</span>
<span id="cb32-3"><a href="r-package.html#cb32-3"></a>  new_data &lt;-<span class="st"> </span>data[, desired_rivers]</span>
<span id="cb32-4"><a href="r-package.html#cb32-4"></a>  <span class="kw">apply</span>(new_data, <span class="dv">1</span>, median)</span>
<span id="cb32-5"><a href="r-package.html#cb32-5"></a>}</span></code></pre></div>
<p>But wait! Run</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="r-package.html#cb33-1"></a>?median</span></code></pre></div>
<p>See anything different? You’ll notice that <code>median()</code> is in the stats package (<a href="https://stat.ethz.ch/R-manual/R-devel/library/stats/html/00Index.html">external link</a>), not the base package. We need to let R know that when <code>river_medians()</code> uses <code>median()</code>, <code>median()</code> is from the stats package. To accomplish this, there are two steps to take.</p>
<p>The first step is to tell your package that at least one function from the stats package is required by running</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="r-package.html#cb34-1"></a>usethis<span class="op">::</span><span class="kw">use_package</span>(<span class="st">&quot;stats&quot;</span>)</span></code></pre></div>
<pre><code>√ Adding &#39;stats&#39; to Imports field in DESCRIPTION
* Refer to functions with `stats::fun()`</code></pre>
<p>The package stats was added to the Imports field in the <code>DESCRIPTION</code> file at the root of your package. We will talk more about <code>DESCRIPTION</code> in a bit, but for now just remember that it contains metadata (high-level data) about your package. No matter how many times your package uses any function from stats, you only need to run <code>usethis::use_package("stats")</code> once.</p>
<p>The second step is to tell the <code>river_medians()</code> function to use the <code>median()</code> function from stats. There are a few ways to do this. The way that is considered “best practice” is to preface any outside functions (aside from those in base) with <code>package::</code>. Incorporating this into <code>river_medians()</code> and inserting roxygen documentation yields</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="r-package.html#cb36-1"></a><span class="co">#&#39; Medians of river lengths and discharges</span></span>
<span id="cb36-2"><a href="r-package.html#cb36-2"></a><span class="co">#&#39;</span></span>
<span id="cb36-3"><a href="r-package.html#cb36-3"></a><span class="co">#&#39; @param data A data frame with two rows. The first row indicates river length and</span></span>
<span id="cb36-4"><a href="r-package.html#cb36-4"></a><span class="co">#&#39;   second row indicates river discharge. The columns of data indicate river names.</span></span>
<span id="cb36-5"><a href="r-package.html#cb36-5"></a><span class="co">#&#39; @param pattern A pattern by which to include only particular rivers</span></span>
<span id="cb36-6"><a href="r-package.html#cb36-6"></a><span class="co">#&#39;</span></span>
<span id="cb36-7"><a href="r-package.html#cb36-7"></a><span class="co">#&#39; @return The median river length and mean river discharge for the desired rivers</span></span>
<span id="cb36-8"><a href="r-package.html#cb36-8"></a><span class="co">#&#39; @export</span></span>
<span id="cb36-9"><a href="r-package.html#cb36-9"></a><span class="co">#&#39;</span></span>
<span id="cb36-10"><a href="r-package.html#cb36-10"></a><span class="co">#&#39; @examples</span></span>
<span id="cb36-11"><a href="r-package.html#cb36-11"></a><span class="co">#&#39; data(&quot;river&quot;)</span></span>
<span id="cb36-12"><a href="r-package.html#cb36-12"></a><span class="co">#&#39; river_medians(river, pattern = &quot;Mi&quot;)</span></span>
<span id="cb36-13"><a href="r-package.html#cb36-13"></a>river_medians &lt;-<span class="st"> </span><span class="cf">function</span>(data, pattern) {</span>
<span id="cb36-14"><a href="r-package.html#cb36-14"></a>  desired_rivers &lt;-<span class="st"> </span><span class="kw">grep</span>(pattern, <span class="kw">names</span>(data))</span>
<span id="cb36-15"><a href="r-package.html#cb36-15"></a>  new_data &lt;-<span class="st"> </span>data[, desired_rivers]</span>
<span id="cb36-16"><a href="r-package.html#cb36-16"></a>  <span class="kw">apply</span>(new_data, <span class="dv">1</span>, stats<span class="op">::</span>median)</span>
<span id="cb36-17"><a href="r-package.html#cb36-17"></a>}</span></code></pre></div>
<p>Though <code>package::function</code> is considered best practice, it does add some extra typing and can be cumbersome if you are using many outside functions. The <code>package::</code> prefix can be avoided by importing <code>median()</code> from stats to <code>river_median()</code> using the roxygen tag <code>@importFrom</code>:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="r-package.html#cb37-1"></a><span class="co">#&#39; Medians of river lengths and discharges</span></span>
<span id="cb37-2"><a href="r-package.html#cb37-2"></a><span class="co">#&#39;</span></span>
<span id="cb37-3"><a href="r-package.html#cb37-3"></a><span class="co">#&#39; @param data A data frame with two rows. The first row indicates river length and</span></span>
<span id="cb37-4"><a href="r-package.html#cb37-4"></a><span class="co">#&#39;   second row indicates river discharge. The columns of data indicate river names.</span></span>
<span id="cb37-5"><a href="r-package.html#cb37-5"></a><span class="co">#&#39; @param pattern A pattern by which to include only particular rivers</span></span>
<span id="cb37-6"><a href="r-package.html#cb37-6"></a><span class="co">#&#39;</span></span>
<span id="cb37-7"><a href="r-package.html#cb37-7"></a><span class="co">#&#39; @return The median river length and mean river discharge for the desired rivers</span></span>
<span id="cb37-8"><a href="r-package.html#cb37-8"></a><span class="co">#&#39; @importFrom stats median</span></span>
<span id="cb37-9"><a href="r-package.html#cb37-9"></a><span class="co">#&#39; @export</span></span>
<span id="cb37-10"><a href="r-package.html#cb37-10"></a><span class="co">#&#39;</span></span>
<span id="cb37-11"><a href="r-package.html#cb37-11"></a><span class="co">#&#39; @examples</span></span>
<span id="cb37-12"><a href="r-package.html#cb37-12"></a><span class="co">#&#39; data(&quot;river&quot;)</span></span>
<span id="cb37-13"><a href="r-package.html#cb37-13"></a><span class="co">#&#39; river_medians(river, pattern = &quot;Mi&quot;)</span></span>
<span id="cb37-14"><a href="r-package.html#cb37-14"></a>river_medians &lt;-<span class="st"> </span><span class="cf">function</span>(data, pattern) {</span>
<span id="cb37-15"><a href="r-package.html#cb37-15"></a>  desired_rivers &lt;-<span class="st"> </span><span class="kw">grep</span>(pattern, <span class="kw">names</span>(data))</span>
<span id="cb37-16"><a href="r-package.html#cb37-16"></a>  new_data &lt;-<span class="st"> </span>data[, desired_rivers]</span>
<span id="cb37-17"><a href="r-package.html#cb37-17"></a>  <span class="kw">apply</span>(new_data, <span class="dv">1</span>, median)</span>
<span id="cb37-18"><a href="r-package.html#cb37-18"></a>}</span></code></pre></div>
<p>A third option is relevant if you are using several functions from stats. In this case, it may be easier to use the <code>@import</code> tag, which imports all functions from stats to <code>river_median()</code>.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="r-package.html#cb38-1"></a><span class="co">#&#39; Medians of river lengths and discharges</span></span>
<span id="cb38-2"><a href="r-package.html#cb38-2"></a><span class="co">#&#39;</span></span>
<span id="cb38-3"><a href="r-package.html#cb38-3"></a><span class="co">#&#39; @param data A data frame with two rows. The first row indicates river length and</span></span>
<span id="cb38-4"><a href="r-package.html#cb38-4"></a><span class="co">#&#39;   second row indicates river discharge. The columns of data indicate river names.</span></span>
<span id="cb38-5"><a href="r-package.html#cb38-5"></a><span class="co">#&#39; @param pattern A pattern by which to include only particular rivers</span></span>
<span id="cb38-6"><a href="r-package.html#cb38-6"></a><span class="co">#&#39;</span></span>
<span id="cb38-7"><a href="r-package.html#cb38-7"></a><span class="co">#&#39; @return The median river length and mean river discharge for the desired rivers</span></span>
<span id="cb38-8"><a href="r-package.html#cb38-8"></a><span class="co">#&#39; @import stats</span></span>
<span id="cb38-9"><a href="r-package.html#cb38-9"></a><span class="co">#&#39; @export</span></span>
<span id="cb38-10"><a href="r-package.html#cb38-10"></a><span class="co">#&#39;</span></span>
<span id="cb38-11"><a href="r-package.html#cb38-11"></a><span class="co">#&#39; @examples</span></span>
<span id="cb38-12"><a href="r-package.html#cb38-12"></a><span class="co">#&#39; data(&quot;rivers&quot;)</span></span>
<span id="cb38-13"><a href="r-package.html#cb38-13"></a><span class="co">#&#39; river_medians(rivers, pattern = &quot;Mi&quot;)</span></span>
<span id="cb38-14"><a href="r-package.html#cb38-14"></a>river_medians &lt;-<span class="st"> </span><span class="cf">function</span>(data, pattern) {</span>
<span id="cb38-15"><a href="r-package.html#cb38-15"></a>  desired_rivers &lt;-<span class="st"> </span><span class="kw">grep</span>(pattern, <span class="kw">names</span>(data))</span>
<span id="cb38-16"><a href="r-package.html#cb38-16"></a>  new_data &lt;-<span class="st"> </span>data[, desired_rivers]</span>
<span id="cb38-17"><a href="r-package.html#cb38-17"></a>  <span class="kw">apply</span>(new_data, <span class="dv">1</span>, median)</span>
<span id="cb38-18"><a href="r-package.html#cb38-18"></a>}</span></code></pre></div>
<p>Be careful when using <code>@importFrom</code> or <code>@import</code> (especially <code>@import</code>). If two functions from different packages have the same name and you try to use one it in your function, R may use the wrong one. In these contexts, using the <code>package::</code> prefix is crucial.</p>
<p>To finish creating the <code>river_medians()</code> documentation, run</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="r-package.html#cb39-1"></a>devtools<span class="op">::</span><span class="kw">document</span>()</span></code></pre></div>
<div id="ex-set3" class="section level4">
<h4><span class="header-section-number">1.2.7.1</span> Exercises</h4>
<p>These exercises are challenging, so if they don’t make sense now, that is okay! Make sure to re-review the solutions after the workshop.</p>
<ol style="list-style-type: decimal">
<li><p>Write a new function, <code>river_stats()</code>, that takes a data frame, pattern, and a general function by which to summarize river length and discharge. This general function should not be an actual function but rather a placeholder for a function a user inserts themselves.</p></li>
<li><p>Rewrite <code>river_stats()</code> from the previous exercise so that <code>river_stats()</code> also takes additional arguments to the summarizing function (hint: use <code>...</code> as an argument)</p></li>
</ol>
</div>
</div>
<div id="description" class="section level3">
<h3><span class="header-section-number">1.2.8</span> <code>DESCRIPTION</code></h3>
<p>The <code>DESCRIPTION</code> file contains the R package’s metadata (and was automatically installed when we created the R package). The <code>DESCRIPTION</code> file lets you easily track version numbers, authorship, and additional R packages that your R package uses. There are two fields in <code>DESCRIPTION</code> that do most of the communication regarding how your R package uses additional R packages:</p>
<ol style="list-style-type: decimal">
<li><p><code>Imports</code>: Packages here must be installed in order for your package to work. As a result, any package listed in <code>Imports</code> will be installed alongside your package. Packages in <code>Imports</code> help build the foundation of your package.</p></li>
<li><p><code>Suggests</code>: Packages here enhance your package but are not required for your package to work. You might use suggested packages for enhanced plotting, additional data sets, or more. Packages in <code>Suggests</code> can add finishing touches to your package, but they are not part of your package’s foundation – they are like a home’s paint color, not its framing.</p></li>
</ol>
<p>Other fields used to communicate how your R package uses additional R packages are <code>Depends</code>, <code>LinkingTo</code>, and <code>Enhances</code>. The difference between <code>Depends</code> and <code>Imports</code> is subtle – the general advice is to use <code>Imports</code> instead of <code>Depends</code>.</p>
<p>Editing the package, title, author, and description fields of this package yield a <code>DESCRIPTION</code> file that looks like</p>
<pre><code>Package: RPRW
Title: R Packages for Reproducible Workflows
Version: 0.0.0.9000
Authors@R: 
    person(given = &quot;Michael&quot;,
           family = &quot;Dumelle&quot;,
           role = c(&quot;aut&quot;, &quot;cre&quot;),
           email = &quot;Dumelle.Michael@epa.gov&quot;)
Description: A companion R package for &quot;Using R Packages for Reproducible Workflows&quot;
    at the 2021 EPA R Workshop.
License: `use_mit_license()`, `use_gpl3_license()` or friends to pick a
    license
Encoding: UTF-8
LazyData: true
Roxygen: list(markdown = TRUE)
RoxygenNote: 7.1.1
Depends: 
    R (&gt;= 2.10)
Imports: 
    stats</code></pre>
<p>We will talk about some of the remaining parts of <code>DESCRIPTION</code> later.</p>
</div>
<div id="namespace" class="section level3">
<h3><span class="header-section-number">1.2.9</span> <code>NAMESPACE</code></h3>
<p>While the <code>DESCRIPTION</code> file communicates what packages your package <em>uses</em>, the <code>NAMESPACE</code> file communicates <em>how</em> your package uses these packages. More specifically, the <code>NAMESPACE</code> file controls which functions your package exports (making them available to others when your package is installed) and what functions from what packages must be available for your exported functions to work. The <code>NAMESPACE</code> file is automatically updated while running <code>devtools::document()</code> and should not be edited by hand (in fact, there is a warning in the <code>NAMESPACE</code> file to warn against editing the file by hand).</p>
<p>In <code>river_median()</code>, if you called <code>median</code> using <code>stats::median</code>, your <code>NAMESPACE</code> file will look like</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="r-package.html#cb41-1"></a><span class="co"># Generated by roxygen2: do not edit by hand</span></span>
<span id="cb41-2"><a href="r-package.html#cb41-2"></a></span>
<span id="cb41-3"><a href="r-package.html#cb41-3"></a><span class="kw">export</span>(river_means)</span>
<span id="cb41-4"><a href="r-package.html#cb41-4"></a><span class="kw">export</span>(river_medians)</span></code></pre></div>
<p>If you used the <code>@importFrom stats median</code> approach, your <code>NAMESPACE</code> will look like</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="r-package.html#cb42-1"></a><span class="co"># Generated by roxygen2: do not edit by hand</span></span>
<span id="cb42-2"><a href="r-package.html#cb42-2"></a></span>
<span id="cb42-3"><a href="r-package.html#cb42-3"></a><span class="kw">export</span>(river_means)</span>
<span id="cb42-4"><a href="r-package.html#cb42-4"></a><span class="kw">export</span>(river_medians)</span>
<span id="cb42-5"><a href="r-package.html#cb42-5"></a><span class="kw">importFrom</span>(stats,median)</span></code></pre></div>
<p>If you used the <code>@import stats</code> approach, your <code>NAMESPACE</code> will look like</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="r-package.html#cb43-1"></a><span class="co"># Generated by roxygen2: do not edit by hand</span></span>
<span id="cb43-2"><a href="r-package.html#cb43-2"></a></span>
<span id="cb43-3"><a href="r-package.html#cb43-3"></a><span class="kw">export</span>(river_means)</span>
<span id="cb43-4"><a href="r-package.html#cb43-4"></a><span class="kw">export</span>(river_medians)</span>
<span id="cb43-5"><a href="r-package.html#cb43-5"></a><span class="kw">import</span>(stats)</span></code></pre></div>
</div>
<div id="testthat" class="section level3">
<h3><span class="header-section-number">1.2.10</span> testthat</h3>
<p>Testing your code to make sure that it performs as intended is an important step in the package building process. Though this may seem like extra work upfront, implementing a rigorous testing procedure for your package is essential for its continued success. In R, testing is incorporated into your package through the testthat (<a href="https://testthat.r-lib.org/">external link</a>) package. To begin using testthat, run</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="r-package.html#cb44-1"></a>usethis<span class="op">::</span><span class="kw">use_testthat</span>()</span></code></pre></div>
<pre><code>√ Adding &#39;testthat&#39; to Suggests field in DESCRIPTION
√ Setting Config/testthat/edition field in DESCRIPTION to &#39;3&#39;
√ Creating &#39;tests/testthat/&#39;
√ Writing &#39;tests/testthat.R&#39;</code></pre>
<p>The root of your package directory should look like
<img src="images/newrpack_files3.PNG" width="100%" /></p>
<p>The tests folder should look like
<img src="images/newrpack_files4.PNG" width="100%" /></p>
<p>Tests are generally written on a function-by-function basis. Tests for a function should be contained in an R script titled <code>test-function_name</code>. Luckily, <code>usethis::use_test()</code> creates an R script for you with the proper name! To start testing <code>river_means()</code>, run</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="r-package.html#cb46-1"></a>usethis<span class="op">::</span><span class="kw">use_test</span>(<span class="st">&quot;river_means&quot;</span>)</span></code></pre></div>
<pre><code>√ Writing &#39;tests/testthat/test-river_means.R&#39;
* Modify &#39;tests/testthat/test-river_means.R&#39;</code></pre>
<p>Your <code>testthat</code> folder should look like
<img src="images/newrpack_files5.PNG" width="100%" /></p>
<p>Tests can be fairly detailed and cover many components of a function (such as input types, output types, function output, etc.). The tests in testthat are prefixed with <code>expect_</code>. Here we write a simple test that calculates whether our function, <code>river_means()</code>, yields output that we would expect if we calculated the means “by hand”:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="r-package.html#cb48-1"></a><span class="kw">library</span>(testthat) <span class="co"># testthat is installed with devtools but we must load it</span></span>
<span id="cb48-2"><a href="r-package.html#cb48-2"></a>testthat<span class="op">::</span><span class="kw">test_that</span>(<span class="st">&quot;the mean length is calculated correctly in a test case&quot;</span>, {</span>
<span id="cb48-3"><a href="r-package.html#cb48-3"></a>  </span>
<span id="cb48-4"><a href="r-package.html#cb48-4"></a>  <span class="co"># calculate values required for the test for length</span></span>
<span id="cb48-5"><a href="r-package.html#cb48-5"></a></span>
<span id="cb48-6"><a href="r-package.html#cb48-6"></a>  <span class="co">## calculate the means from the function</span></span>
<span id="cb48-7"><a href="r-package.html#cb48-7"></a>  river_means_val &lt;-<span class="st"> </span><span class="kw">river_means</span>(river, <span class="st">&quot;Missouri|Mississippi&quot;</span>)</span>
<span id="cb48-8"><a href="r-package.html#cb48-8"></a>  river_means_length &lt;-<span class="st"> </span>river_means_val[[<span class="dv">1</span>]]</span>
<span id="cb48-9"><a href="r-package.html#cb48-9"></a></span>
<span id="cb48-10"><a href="r-package.html#cb48-10"></a>  <span class="co">## calculate the means &quot;by hand&quot;</span></span>
<span id="cb48-11"><a href="r-package.html#cb48-11"></a>  raw_vec_length &lt;-<span class="st"> </span><span class="kw">unlist</span>(river[<span class="st">&quot;length&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;Missouri&quot;</span>, <span class="st">&quot;Mississippi&quot;</span>)])</span>
<span id="cb48-12"><a href="r-package.html#cb48-12"></a>  raw_means_length &lt;-<span class="st"> </span><span class="kw">mean</span>(raw_vec_length)</span>
<span id="cb48-13"><a href="r-package.html#cb48-13"></a>  </span>
<span id="cb48-14"><a href="r-package.html#cb48-14"></a>  <span class="co"># perform the actual test for length</span></span>
<span id="cb48-15"><a href="r-package.html#cb48-15"></a></span>
<span id="cb48-16"><a href="r-package.html#cb48-16"></a>  <span class="co">## check that the function and &quot;by hand&quot; output matches</span></span>
<span id="cb48-17"><a href="r-package.html#cb48-17"></a>  <span class="kw">expect_equal</span>(river_means_length, raw_means_length)</span>
<span id="cb48-18"><a href="r-package.html#cb48-18"></a>})</span></code></pre></div>
<pre><code>#&gt; Test passed</code></pre>
<p>If you have many tests, the <code>devtools::test()</code> function runs all of the tests in the <code>testthat</code> folder:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="r-package.html#cb50-1"></a>devtools<span class="op">::</span><span class="kw">test</span>()</span></code></pre></div>
<pre><code>i Loading RPRW
i Testing RPRW
√ |  OK F W S | Context
√ |   1       | river_means                                                     
                                               
== Results =========================================================================
[ FAIL 0 | WARN 0 | SKIP 0 | PASS 1 ]</code></pre>
<p>We can write a similar test for discharge and then repeat the process for <code>river_meadians()</code>. Then <code>devtools::test()</code> returns</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="r-package.html#cb52-1"></a>devtools<span class="op">::</span><span class="kw">test</span>()</span></code></pre></div>
<pre><code>i Loading RPRW
i Testing RPRW
√ |  OK F W S | Context
√ |   2       | river_means                                                         
√ |   2       | river_medians                                                       

== Results =========================================================================
[ FAIL 0 | WARN 0 | SKIP 0 | PASS 4 ]</code></pre>
<p>All tests pass – hooray! I want to again emphasize how important testing is. I know that it seems like an extra chore, but in my experience, writing careful tests has always paid off…with interest.</p>
<div id="ex-set4" class="section level4">
<h4><span class="header-section-number">1.2.10.1</span> Exercises</h4>
<ol style="list-style-type: decimal">
<li><p>Write similar tests for <code>river_means()</code> (discharge), <code>river_medians()</code> (length), and <code>river_medians()</code> (discharge).</p></li>
<li><p>Check out the covr (<a href="https://cran.r-project.org/web/packages/covr/vignettes/how_it_works.html">external link</a>) package, which quantifies how much of your package’s code is used by your tests.</p></li>
</ol>
</div>
</div>
<div id="license" class="section level3">
<h3><span class="header-section-number">1.2.11</span> License</h3>
<p>At some point, your package needs a license. The license places restrictions on how your package can be shared with others. Licensing can be rather technical and complicated, so I refer you here (<a href="https://r-pkgs.org/license.html">external link</a>) for more information. For illustration purposes, we will use a GPL-3 license for this package:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="r-package.html#cb54-1"></a>usethis<span class="op">::</span><span class="kw">use_gpl_license</span>()</span></code></pre></div>
<pre><code>√ Setting License field in DESCRIPTION to &#39;GPL (&gt;= 3)&#39;
√ Writing &#39;LICENSE.md&#39;
√ Adding &#39;^LICENSE\\.md$&#39; to &#39;.Rbuildignore&#39;</code></pre>
<p><code>usethis::use_gpl_license()</code> adds the license to <code>DESCRIPTION</code> and creates a <code>LICENSE.md</code> file at the root of your package that contains information about the license. Approved licenses for EPA repositories include CC0, MIT, GPL-3, and Apache 2.</p>
</div>
<div id="vignettes" class="section level3">
<h3><span class="header-section-number">1.2.12</span> Vignettes</h3>
<p>Vignettes act as high-level user guides for your package. They are the glue that binds together several components of your package to illustrate how the package can be used to solve a particular problem. Vignettes tend to be R Markdown documents. Though we cover R Markdown documents in more detail later, for now we note that they that interweave text and R code to create reproducible documents. You can recognize whether a document is an R markdown documents by the <code>.Rmd</code> extension that R documents have.</p>
<p>The ggplot2 (<a href="https://ggplot2.tidyverse.org/">external link</a>) package is a popular package for visualizing data. After installing ggplot2</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="r-package.html#cb56-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;ggplot2&quot;</span>)</span></code></pre></div>
<p>you can view its available vignettes by running</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="r-package.html#cb57-1"></a><span class="kw">vignette</span>(<span class="dt">package =</span> <span class="st">&quot;ggplot2&quot;</span>)</span></code></pre></div>
<p>after which a file will pop up alongside your R scripts with the contents
<img src="images/newrpack_files6.PNG" width="100%" /></p>
<p>To then view a specific vignette, run <code>vignette("topic", "package")</code>. For example, to view the vignette regarding <strong>aes</strong>thetic specifications, run</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="r-package.html#cb58-1"></a><span class="kw">vignette</span>(<span class="st">&quot;ggplot2-specs&quot;</span>, <span class="st">&quot;ggplot2&quot;</span>)</span></code></pre></div>
<p>The vignette can then be viewed in the “Help” tab of the bottom-right pane of RStudio. Vignettes are also available on a package’s CRAN page – for the ggplot2 aesthetic specifications vignette viewable on its CRAN page, see here (<a href="https://cran.r-project.org/web/packages/ggplot2/vignettes/ggplot2-specs.html">external link</a>).</p>
<p>Suppose we want to include a vignette in RPRW that shows how to it to compute river statistics. Running</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="r-package.html#cb59-1"></a><span class="kw">use_vignette</span>(<span class="st">&quot;river-statistics&quot;</span>, <span class="st">&quot;River Statistics&quot;</span>)</span></code></pre></div>
<pre><code>√ Adding &#39;knitr&#39; to Suggests field in DESCRIPTION
√ Setting VignetteBuilder field in DESCRIPTION to &#39;knitr&#39;
√ Adding &#39;inst/doc&#39; to &#39;.gitignore&#39;
√ Creating &#39;vignettes/&#39;
√ Adding &#39;*.html&#39;, &#39;*.R&#39; to &#39;vignettes/.gitignore&#39;
√ Adding &#39;rmarkdown&#39; to Suggests field in DESCRIPTION
√ Writing &#39;vignettes/river-statistics.Rmd&#39;
* Modify &#39;vignettes/river-statistics.Rmd&#39;</code></pre>
<p>does a few things. It alters your <code>DESCRIPTION</code> file, most notably adding the knitr (<a href="https://yihui.org/knitr/">external link</a>) and rmarkdown packages to the <code>Suggests</code> field. It also creates a vignette folder at the root of your package and adds to that folder an rmarkdown vignette named <code>river-statistics.Rmd</code> (notice the <code>.Rmd</code> extension) whose title is “River Statistics”.</p>
<p>While we won’t create a vignette for our package during the workshop, I have added a vignette to the RPRW package. To view it (after installation), run</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="r-package.html#cb61-1"></a><span class="kw">vignette</span>(<span class="st">&quot;river-statistics&quot;</span>, <span class="st">&quot;RPRW&quot;</span>)</span></code></pre></div>
</div>
<div id="check" class="section level3">
<h3><span class="header-section-number">1.2.13</span> <code>devtools::check()</code></h3>
<p>At this point we have built R package and are ready to share it with the world! But we should probably check to make sure we did not make any small mistakes. Does devtools have a way to do this? Of course – introducing <code>devtools::check()</code>! <code>devtools::check()</code> evaluates several automated tests on your package to make sure it can be properly installed and shared – this can take a few minutes. The <code>devtools::check()</code> output lists errors, warnings, and notes associated with your package. Though the warnings and notes are important, it is most crucial to address the errors immediately.</p>
<p>Hopefully after running <code>devtools::check()</code>, your output looks like</p>
<pre><code>-- R CMD check results ---------- RPRW 0.0.0.9000 ----
Duration: 34.4s

0 errors √ | 0 warnings √ | 0 notes √</code></pre>
<p>If not, do your best to fix the errors and address the warnings and notes!</p>
</div>
<div id="install" class="section level3">
<h3><span class="header-section-number">1.2.14</span> <code>devtools::install()</code></h3>
<p>After <code>devtools::check()</code> identifies zero errors (and hopefully zero warnings and zero notes), you can install your package by running</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="r-package.html#cb63-1"></a>devtools<span class="op">::</span><span class="kw">install</span>()</span></code></pre></div>
<p>After installing RPRW, you can use <code>library(RPRW)</code> to load it like you do for any other R package.</p>
<div id="ex-set5" class="section level4">
<h4><span class="header-section-number">1.2.14.1</span> Exercises</h4>
<ol style="list-style-type: decimal">
<li>Find the argument to <code>devtools::install()</code> that identifies whether vignettes are built alongside installation. What is the default value of this argument?</li>
</ol>
</div>
</div>
<div id="congratulations" class="section level3">
<h3><span class="header-section-number">1.2.15</span> Congratulations</h3>
<p>Congratulations on building an R package! If this was your first one, then an extra special congratulations to you! Hopefully stepping through the process together made it all less intimidating.</p>
<p><img src="images/well_done.jpg" width="50%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="debugging" class="section level2">
<h2><span class="header-section-number">1.3</span> Debugging</h2>
<p>Even the best of programmers write code that may fail in unintended ways. This unintended failing of code is referred to as a “bug,” and the process of fixing the “bug” is known as “debugging”. Don’t expect to always write perfect code – do expect to have the tools necessary to track down bugs and remedy them. Though we went through a rigorous documentation and testing procedure when creating <code>river_means()</code> and <code>river_medians()</code>, there are still bugs present in these functions.</p>
<div id="error-onematch" class="section level3">
<h3><span class="header-section-number">1.3.1</span> A Mysterious Error Message</h3>
<p>We have already used <code>river_means()</code> and <code>river_medians()</code> to successfully find means and medians for several patterns. But running <code>river_means(river, "R")</code> yields a mystifying error:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="r-package.html#cb64-1"></a><span class="kw">river_means</span>(river, <span class="st">&quot;R&quot;</span>)</span></code></pre></div>
<pre><code>#&gt; Error in rowMeans(new_data): &#39;x&#39; must be an array of at least two dimensions</code></pre>
<p>Something is wrong – and we need to figure out what. A good first step is to copy and paste the error into a Google search engine and see if anyone has solved the problem yet. If you are lucky, this approach will identify the bug for you. If you are not so lucky, you need to try a different approach. Fortunately, R has built-in tools that can help you track down bugs – we will explore a few of these tools next.</p>
</div>
<div id="traceback" class="section level3">
<h3><span class="header-section-number">1.3.2</span> <code>traceback()</code></h3>
<p>The <code>traceback()</code> function is generally run in the console after receiving an error. <code>traceback()</code> identifies where the error occurred in the previous function call. Here we run <code>traceback()</code> after <code>river_means(river, "R")</code>:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="r-package.html#cb66-1"></a><span class="kw">traceback</span>()</span></code></pre></div>
<pre><code>3: stop(&quot;&#39;x&#39; must be an array of at least two dimensions&quot;)
2: rowMeans(new_data) at #4
1: river_means(river, &quot;R&quot;)</code></pre>
<p>We now know that the error occurs in Line 4 of <code>river_means()</code> (the <code>rowMeans(new_data)</code> step). While this is very useful information, we still don’t know exactly why the error occurs.</p>
</div>
<div id="browser" class="section level3">
<h3><span class="header-section-number">1.3.3</span> <code>browser()</code></h3>
<p>In my early stages of debugging, I would save my arguments to a function in the global environment and then run through each line of the function returning the error, effectively “recreating” the environment in which the error occurred. Perhaps some of you have done this too. The bad news is that this approach is often error-prone and inefficient. The good news is that there is a better way – <code>browser()</code>. Inserting <code>browser()</code> into your code and then running it lets you interactively step into the function, starting at wherever <code>browser()</code> is located. No more saving arguments to the global environment and running code line-by-line! Let’s try this out with <code>river_means()</code>:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="r-package.html#cb68-1"></a>river_means &lt;-<span class="st"> </span><span class="cf">function</span>(data, pattern) {</span>
<span id="cb68-2"><a href="r-package.html#cb68-2"></a>  <span class="kw">browser</span>()</span>
<span id="cb68-3"><a href="r-package.html#cb68-3"></a>  desired_rivers &lt;-<span class="st"> </span><span class="kw">grep</span>(pattern, <span class="kw">names</span>(data))</span>
<span id="cb68-4"><a href="r-package.html#cb68-4"></a>  new_data &lt;-<span class="st"> </span>data[, desired_rivers]</span>
<span id="cb68-5"><a href="r-package.html#cb68-5"></a>  <span class="kw">rowMeans</span>(new_data)</span>
<span id="cb68-6"><a href="r-package.html#cb68-6"></a>}</span></code></pre></div>
<p>After using <code>devtools::load_all()</code> and running <code>river_means()</code>, you will step into the function before the first line of code. For example,</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="r-package.html#cb69-1"></a><span class="kw">river_means</span>(river, <span class="st">&quot;R&quot;</span>)</span></code></pre></div>
<p>opens a new file in the editor (upper left-hand) window that looks like
<img src="images/newrpack_files7.PNG" width="75%" /></p>
<p>You will also see a few buttons in the R console (lower left-hand) window:
<img src="images/newrpack_files8.PNG" width="75%" /></p>
<p>These five buttons help you interactively navigate through <code>river_means()</code>. From left to right, they are</p>
<ul>
<li>Next (<code>n</code>), which executes the next line of the code</li>
<li>Step (<code>s</code>), which steps into the function called by the current line of code</li>
<li>Finish (<code>f</code>), which finishes execution of the current function</li>
<li>Continue (<code>c</code>), which leaves the interactive context and continues execution of the function</li>
<li>Stop (<code>Q</code>), which leaves the interactive context and terminates execution of the function</li>
</ul>
<p>Before navigating through any lines of <code>river_means()</code>, we see <code>data</code> and <code>pattern</code> are defined:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="r-package.html#cb70-1"></a><span class="kw">print</span>(data)</span></code></pre></div>
<pre><code>#&gt;           Missouri Mississippi Yukon Colorado Arkansas Columbia  Red Canadian
#&gt; length        3768        3544  3190     2330     2322     2000 1811     1458
#&gt; discharge     1956       18400  6340       40     1004     7730  852      174</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="r-package.html#cb72-1"></a><span class="kw">print</span>(pattern)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;R&quot;</code></pre>
<p>Pressing <code>n</code> (Next) executes <code>browser()</code>. Pressing <code>n</code> (Next) again executes</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="r-package.html#cb74-1"></a>desired_rivers &lt;-<span class="st"> </span><span class="kw">grep</span>(pattern, <span class="kw">names</span>(data))</span></code></pre></div>
<p>Inspecting <code>desired_rivers</code>, we see</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="r-package.html#cb75-1"></a><span class="kw">print</span>(desired_rivers)</span></code></pre></div>
<pre><code>#&gt; [1] 7</code></pre>
<p>This seems correct, as the seventh river, “Red”, does match the pattern “R”. So the error isn’t here. Let’s press <code>n</code> (Next) to evaluate the next line</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="r-package.html#cb77-1"></a>new_data &lt;-<span class="st"> </span>data[, desired_rivers]</span></code></pre></div>
<p>Inspecting <code>new_data</code>, we see</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="r-package.html#cb78-1"></a>new_data</span></code></pre></div>
<pre><code>#&gt; [1] 1811  852</code></pre>
<p>Well this seems weird – <code>new_data</code> does not look like a data frame. Let’s inspect the structure</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="r-package.html#cb80-1"></a><span class="kw">str</span>(new_data)</span></code></pre></div>
<pre><code>#&gt;  num [1:2] 1811 852</code></pre>
<p><code>new_data</code> is in fact not a data frame, but rather it is a numeric vector. Because <code>rowMeans()</code> requires an array of two or more dimensions (e.g. a matrix or data frame), the next line of code, <code>rowMeans()</code>, fails. Pressing <code>n</code> again returns the error and removes you from the interactive mode:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="r-package.html#cb82-1"></a><span class="kw">rowMeans</span>(new_data)</span></code></pre></div>
<pre><code>#&gt; Error in rowMeans(new_data): &#39;x&#39; must be an array of at least two dimensions</code></pre>
<p>This is a good example of one of the reasons debugging can be so challenging: often, an error occurs because code from a few lines back runs in an unintended way (even though it runs successfully). Note that a similar error occurs when running <code>river_medians(river, "R")</code> because <code>apply()</code> requires an array of two or more dimensions.</p>
<p>So what is happening here? We know the code works when the pattern yields at least two matches in <code>river</code>. But now, with one match, the code is failing. Let’s start with the <code>[</code> function called by <code>data[, desired_rivers]</code>, where we receive unintended output. Let’s look at the documentation of <code>[</code> by running</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="r-package.html#cb84-1"></a>?<span class="st">`</span><span class="dt">[</span><span class="st">`</span></span></code></pre></div>
<p>A close look at the documentation reveals further documentation for the behavior of <code>[</code> when applied to a data frame</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="r-package.html#cb85-1"></a>?<span class="st">`</span><span class="dt">[.data.frame</span><span class="st">`</span></span></code></pre></div>
<p>Notice the <code>drop</code> argument in this documentation. The <code>drop</code> argument, when <code>TRUE</code>, coerces the object to the lowest possible dimension. When subsetting a data frame by one column, <code>drop</code> is <code>TRUE</code> by default and data frame structure is turned into a vector structure, which only has one dimension – this is why the error is occurring. So we need to force our subsetting to always keep the data frame structure by setting <code>drop = FALSE</code>. Accommodating this change in <code>river_means()</code> and <code>river_medians()</code> yields functions that look like</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="r-package.html#cb86-1"></a>river_means &lt;-<span class="st"> </span><span class="cf">function</span>(data, pattern) {</span>
<span id="cb86-2"><a href="r-package.html#cb86-2"></a>  desired_rivers &lt;-<span class="st"> </span><span class="kw">grep</span>(pattern, <span class="kw">names</span>(data))</span>
<span id="cb86-3"><a href="r-package.html#cb86-3"></a>  new_data &lt;-<span class="st"> </span>data[, desired_rivers, drop =<span class="st"> </span><span class="ot">FALSE</span>]</span>
<span id="cb86-4"><a href="r-package.html#cb86-4"></a>  <span class="kw">rowMeans</span>(new_data)</span>
<span id="cb86-5"><a href="r-package.html#cb86-5"></a>}</span>
<span id="cb86-6"><a href="r-package.html#cb86-6"></a></span>
<span id="cb86-7"><a href="r-package.html#cb86-7"></a>river_medians &lt;-<span class="st"> </span><span class="cf">function</span>(data, pattern) {</span>
<span id="cb86-8"><a href="r-package.html#cb86-8"></a>  desired_rivers &lt;-<span class="st"> </span><span class="kw">grep</span>(pattern, <span class="kw">names</span>(data))</span>
<span id="cb86-9"><a href="r-package.html#cb86-9"></a>  new_data &lt;-<span class="st"> </span>data[, desired_rivers, drop =<span class="st"> </span><span class="ot">FALSE</span>]</span>
<span id="cb86-10"><a href="r-package.html#cb86-10"></a>  <span class="kw">apply</span>(new_data, <span class="dv">1</span>, median)</span>
<span id="cb86-11"><a href="r-package.html#cb86-11"></a>}</span></code></pre></div>
<p>Now running <code>river_means()</code> and <code>river_medians()</code> with patterns only having one match behaves as intended</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="r-package.html#cb87-1"></a><span class="kw">river_means</span>(river, <span class="st">&quot;R&quot;</span>)</span></code></pre></div>
<pre><code>#&gt;    length discharge 
#&gt;      1811       852</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="r-package.html#cb89-1"></a><span class="kw">river_medians</span>(river, <span class="st">&quot;R&quot;</span>)</span></code></pre></div>
<pre><code>#&gt;    length discharge 
#&gt;      1811       852</code></pre>
<p>For more information about debugging in R, watch this (<a href="https://www.rstudio.com/resources/rstudioconf-2020/object-of-type-closure-is-not-subsettable/">external link</a>) and/or read this (<a href="https://adv-r.hadley.nz/debugging.html">external link</a>).</p>
</div>
<div id="error-zeromatch" class="section level3">
<h3><span class="header-section-number">1.3.4</span> Another Error – No Mysterious Message</h3>
<p>We previously received and fixed an error message that occurred when the pattern only matched one river. So we know our code works when the pattern matches at least one river. But what happens when the pattern matches zero rivers?</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="r-package.html#cb91-1"></a><span class="kw">river_means</span>(river, <span class="st">&quot;ZZZ&quot;</span>)</span></code></pre></div>
<pre><code>#&gt;    length discharge 
#&gt;       NaN       NaN</code></pre>
<p>The length and discharge means are <code>NaN</code>, which stands for “Not a Number” – this is certainly unintended (note that <code>river_medians(river, "ZZZ")</code> returns similar output.). These types of bugs are especially pernicious because there is no error message associated with them – we can’t use <code>traceback()</code>. Say <code>river_means()</code> was a small part of a much larger function, – this bug could be the root of a confusing error several lines later. Whenever function output is unexpected and you can’t immediately figure out why, use <code>browser()</code> to diagnose the bug. In this context, <code>desired_rivers</code> is a length-zero vector, which causes problems in the remaining parts of the function. To guard against these types of bugs, identify potentially problematic scenarios for your function and program defensively, forcing the function to return an informative error message when a problematic scenario is identified. Here we force <code>river_means()</code> to return an error message when the pattern matches zero rivers:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="r-package.html#cb93-1"></a>river_means &lt;-<span class="st"> </span><span class="cf">function</span>(data, pattern) {</span>
<span id="cb93-2"><a href="r-package.html#cb93-2"></a>  desired_rivers &lt;-<span class="st"> </span><span class="kw">grep</span>(pattern, <span class="kw">names</span>(data))</span>
<span id="cb93-3"><a href="r-package.html#cb93-3"></a>  <span class="cf">if</span> (<span class="kw">length</span>(desired_rivers) <span class="op">==</span><span class="st"> </span><span class="dv">0</span>) {</span>
<span id="cb93-4"><a href="r-package.html#cb93-4"></a>    <span class="kw">stop</span>(<span class="st">&quot;This is an error message that stops the function.&quot;</span>)</span>
<span id="cb93-5"><a href="r-package.html#cb93-5"></a>  }</span>
<span id="cb93-6"><a href="r-package.html#cb93-6"></a>  new_data &lt;-<span class="st"> </span>data[, desired_rivers, drop =<span class="st"> </span><span class="ot">FALSE</span>]</span>
<span id="cb93-7"><a href="r-package.html#cb93-7"></a>  <span class="kw">rowMeans</span>(new_data)</span>
<span id="cb93-8"><a href="r-package.html#cb93-8"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="r-package.html#cb94-1"></a><span class="kw">river_means</span>(rivers, <span class="st">&quot;ZZZ&quot;</span>)</span></code></pre></div>
<pre><code>#&gt; Error in river_means(rivers, &quot;ZZZ&quot;): This is an error message that stops the function.</code></pre>
<div id="ex-set6" class="section level4">
<h4><span class="header-section-number">1.3.4.1</span> Exercises</h4>
<ol style="list-style-type: decimal">
<li>Rewrite <code>river_medians()</code> so that it stops and returns an informative error message when the pattern matches zero rivers.</li>
</ol>
</div>
</div>
</div>
<div id="add-resources" class="section level2">
<h2><span class="header-section-number">1.4</span> Additional Resources</h2>
<ul>
<li>R Packages (<a href="https://r-pkgs.org/index.html">external link</a>) by Hadley Wickham (<a href="http://hadley.nz/">external link</a>) and Jenny Bryan (<a href="https://jennybryan.org/">external link</a>) <span class="citation">(Wickham <a href="#ref-wickham2015r" role="doc-biblioref">2015</a>)</span></li>
<li>Writing an R package from scratch (<a href="https://hilaryparker.com/2014/04/29/writing-an-r-package-from-scratch/">external link</a>) by Hilary Parker (<a href="https://hilaryparker.com/">external link</a>)</li>
<li>Writing R Extensions (<a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html">external link</a>) by CRAN (this resource is very technical)</li>
</ul>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-wickham2015r">
<p>Wickham, Hadley. 2015. <em>R Packages: Organize, Test, Document, and Share Your Code</em>. " O’Reilly Media, Inc.".</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r-package-rc.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/01-r-package.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
