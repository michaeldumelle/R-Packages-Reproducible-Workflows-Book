<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Extensions | Using R Packages for Reproducible Workflows</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Extensions | Using R Packages for Reproducible Workflows" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="michaeldumelle/R-Packages-Reproducible-Workflows-Book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Extensions | Using R Packages for Reproducible Workflows" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  

<meta name="author" content="Michael Dumelle" />


<meta name="date" content="2021-09-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-package-rc.html"/>
<link rel="next" href="exercise-solutions.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Using R Packages for Reproducible Workflows</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#schedule"><i class="fa fa-check"></i>Schedule</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-me"><i class="fa fa-check"></i>About Me</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#getting-started"><i class="fa fa-check"></i>Getting Started</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="r-package.html"><a href="r-package.html"><i class="fa fa-check"></i><b>1</b> Building an R Package</a><ul>
<li class="chapter" data-level="1.1" data-path="r-package.html"><a href="r-package.html#what-is-an-r-package"><i class="fa fa-check"></i><b>1.1</b> What is an R Package?</a><ul>
<li class="chapter" data-level="1.1.1" data-path="r-package.html"><a href="r-package.html#ex-set1"><i class="fa fa-check"></i><b>1.1.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="r-package.html"><a href="r-package.html#creating-an-r-package"><i class="fa fa-check"></i><b>1.2</b> Creating an R Package</a><ul>
<li class="chapter" data-level="1.2.1" data-path="r-package.html"><a href="r-package.html#the-motivating-dataset"><i class="fa fa-check"></i><b>1.2.1</b> The Motivating Dataset</a></li>
<li class="chapter" data-level="1.2.2" data-path="r-package.html"><a href="r-package.html#first-step"><i class="fa fa-check"></i><b>1.2.2</b> The First Step</a></li>
<li class="chapter" data-level="1.2.3" data-path="r-package.html"><a href="r-package.html#first-function"><i class="fa fa-check"></i><b>1.2.3</b> The First Function</a></li>
<li class="chapter" data-level="1.2.4" data-path="r-package.html"><a href="r-package.html#load-all"><i class="fa fa-check"></i><b>1.2.4</b> <code>devtools::load_all()</code></a><ul>
<li class="chapter" data-level="1.2.4.1" data-path="r-package.html"><a href="r-package.html#ex-set2"><i class="fa fa-check"></i><b>1.2.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="1.2.5" data-path="r-package.html"><a href="r-package.html#creating-data"><i class="fa fa-check"></i><b>1.2.5</b> Creating Package Data</a></li>
<li class="chapter" data-level="1.2.6" data-path="r-package.html"><a href="r-package.html#roxygen"><i class="fa fa-check"></i><b>1.2.6</b> roxygen Comments</a></li>
<li class="chapter" data-level="1.2.7" data-path="r-package.html"><a href="r-package.html#second-function"><i class="fa fa-check"></i><b>1.2.7</b> The Second Function</a><ul>
<li class="chapter" data-level="1.2.7.1" data-path="r-package.html"><a href="r-package.html#ex-set3"><i class="fa fa-check"></i><b>1.2.7.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="1.2.8" data-path="r-package.html"><a href="r-package.html#description"><i class="fa fa-check"></i><b>1.2.8</b> <code>DESCRIPTION</code></a></li>
<li class="chapter" data-level="1.2.9" data-path="r-package.html"><a href="r-package.html#namespace"><i class="fa fa-check"></i><b>1.2.9</b> <code>NAMESPACE</code></a></li>
<li class="chapter" data-level="1.2.10" data-path="r-package.html"><a href="r-package.html#testthat"><i class="fa fa-check"></i><b>1.2.10</b> testthat</a><ul>
<li class="chapter" data-level="1.2.10.1" data-path="r-package.html"><a href="r-package.html#ex-set4"><i class="fa fa-check"></i><b>1.2.10.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="1.2.11" data-path="r-package.html"><a href="r-package.html#license"><i class="fa fa-check"></i><b>1.2.11</b> License</a></li>
<li class="chapter" data-level="1.2.12" data-path="r-package.html"><a href="r-package.html#vignettes"><i class="fa fa-check"></i><b>1.2.12</b> Vignettes</a></li>
<li class="chapter" data-level="1.2.13" data-path="r-package.html"><a href="r-package.html#check"><i class="fa fa-check"></i><b>1.2.13</b> <code>devtools::check()</code></a></li>
<li class="chapter" data-level="1.2.14" data-path="r-package.html"><a href="r-package.html#install"><i class="fa fa-check"></i><b>1.2.14</b> <code>devtools::install()</code></a><ul>
<li class="chapter" data-level="1.2.14.1" data-path="r-package.html"><a href="r-package.html#ex-set5"><i class="fa fa-check"></i><b>1.2.14.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="1.2.15" data-path="r-package.html"><a href="r-package.html#congratulations"><i class="fa fa-check"></i><b>1.2.15</b> Congratulations</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="r-package.html"><a href="r-package.html#debugging"><i class="fa fa-check"></i><b>1.3</b> Debugging</a><ul>
<li class="chapter" data-level="1.3.1" data-path="r-package.html"><a href="r-package.html#error-onematch"><i class="fa fa-check"></i><b>1.3.1</b> A Mysterious Error Message</a></li>
<li class="chapter" data-level="1.3.2" data-path="r-package.html"><a href="r-package.html#traceback"><i class="fa fa-check"></i><b>1.3.2</b> <code>traceback()</code></a></li>
<li class="chapter" data-level="1.3.3" data-path="r-package.html"><a href="r-package.html#browser"><i class="fa fa-check"></i><b>1.3.3</b> <code>browser()</code></a></li>
<li class="chapter" data-level="1.3.4" data-path="r-package.html"><a href="r-package.html#error-zeromatch"><i class="fa fa-check"></i><b>1.3.4</b> Another Error – No Mysterious Message</a><ul>
<li class="chapter" data-level="1.3.4.1" data-path="r-package.html"><a href="r-package.html#ex-set6"><i class="fa fa-check"></i><b>1.3.4.1</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="r-package.html"><a href="r-package.html#add-resources"><i class="fa fa-check"></i><b>1.4</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-package-rc.html"><a href="r-package-rc.html"><i class="fa fa-check"></i><b>2</b> Making an R Package a Research Compendium</a><ul>
<li class="chapter" data-level="2.1" data-path="r-package-rc.html"><a href="r-package-rc.html#what-is-a-rc"><i class="fa fa-check"></i><b>2.1</b> What is a Research Compendium?</a><ul>
<li class="chapter" data-level="2.1.1" data-path="r-package-rc.html"><a href="r-package-rc.html#ex-set7"><i class="fa fa-check"></i><b>2.1.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="r-package-rc.html"><a href="r-package-rc.html#why-a-rc"><i class="fa fa-check"></i><b>2.2</b> Why a Research Compendium?</a><ul>
<li class="chapter" data-level="2.2.1" data-path="r-package-rc.html"><a href="r-package-rc.html#ex-set8"><i class="fa fa-check"></i><b>2.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-package-rc.html"><a href="r-package-rc.html#why-r-pack-for-rc"><i class="fa fa-check"></i><b>2.3</b> Why an R Package for a Research Compendium?</a></li>
<li class="chapter" data-level="2.4" data-path="r-package-rc.html"><a href="r-package-rc.html#rprw-to-rc"><i class="fa fa-check"></i><b>2.4</b> Turning RPRW Into A Research Compendium</a><ul>
<li class="chapter" data-level="2.4.1" data-path="r-package-rc.html"><a href="r-package-rc.html#ex-set9"><i class="fa fa-check"></i><b>2.4.1</b> Exercises</a></li>
<li class="chapter" data-level="2.4.2" data-path="r-package-rc.html"><a href="r-package-rc.html#citation"><i class="fa fa-check"></i><b>2.4.2</b> Adding a Citation</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="r-package-rc.html"><a href="r-package-rc.html#rc-recap"><i class="fa fa-check"></i><b>2.5</b> Research Compendium Recap</a></li>
<li class="chapter" data-level="2.6" data-path="r-package-rc.html"><a href="r-package-rc.html#sharing-rc"><i class="fa fa-check"></i><b>2.6</b> Sharing Your Research Compendium</a></li>
<li class="chapter" data-level="2.7" data-path="r-package-rc.html"><a href="r-package-rc.html#hosting-your-research-compendium"><i class="fa fa-check"></i><b>2.7</b> Hosting Your Research Compendium</a><ul>
<li class="chapter" data-level="2.7.1" data-path="r-package-rc.html"><a href="r-package-rc.html#ex-set10"><i class="fa fa-check"></i><b>2.7.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="r-package-rc.html"><a href="r-package-rc.html#ex-rc"><i class="fa fa-check"></i><b>2.8</b> An Example R Package Reserach Compendium</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="extensions.html"><a href="extensions.html"><i class="fa fa-check"></i><b>3</b> Extensions</a><ul>
<li class="chapter" data-level="3.1" data-path="extensions.html"><a href="extensions.html#r-projects"><i class="fa fa-check"></i><b>3.1</b> R Projects</a><ul>
<li class="chapter" data-level="3.1.1" data-path="extensions.html"><a href="extensions.html#ex-set11"><i class="fa fa-check"></i><b>3.1.1</b> Exercises</a></li>
<li class="chapter" data-level="3.1.2" data-path="extensions.html"><a href="extensions.html#renv"><i class="fa fa-check"></i><b>3.1.2</b> renv</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="extensions.html"><a href="extensions.html#rmarkdown"><i class="fa fa-check"></i><b>3.2</b> R Markdown</a><ul>
<li class="chapter" data-level="3.2.1" data-path="extensions.html"><a href="extensions.html#ex-set12"><i class="fa fa-check"></i><b>3.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="extensions.html"><a href="extensions.html#rticles"><i class="fa fa-check"></i><b>3.3</b> rticles</a><ul>
<li class="chapter" data-level="3.3.1" data-path="extensions.html"><a href="extensions.html#ex-set13"><i class="fa fa-check"></i><b>3.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="extensions.html"><a href="extensions.html#git-github"><i class="fa fa-check"></i><b>3.4</b> Git and GitHub</a><ul>
<li class="chapter" data-level="3.4.1" data-path="extensions.html"><a href="extensions.html#cloning-a-github-repository-in-rstudio"><i class="fa fa-check"></i><b>3.4.1</b> Cloning a GitHub Repository in RStudio</a></li>
<li class="chapter" data-level="3.4.2" data-path="extensions.html"><a href="extensions.html#gitignore"><i class="fa fa-check"></i><b>3.4.2</b> <code>.gitignore</code></a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="extensions.html"><a href="extensions.html#ci"><i class="fa fa-check"></i><b>3.5</b> Continuous Integration</a></li>
<li class="chapter" data-level="3.6" data-path="extensions.html"><a href="extensions.html#style"><i class="fa fa-check"></i><b>3.6</b> Code Style</a></li>
<li class="chapter" data-level="3.7" data-path="extensions.html"><a href="extensions.html#add-tips"><i class="fa fa-check"></i><b>3.7</b> Additional Tips</a><ul>
<li class="chapter" data-level="3.7.1" data-path="extensions.html"><a href="extensions.html#ex-set14"><i class="fa fa-check"></i><b>3.7.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="extensions.html"><a href="extensions.html#thank-you"><i class="fa fa-check"></i><b>3.8</b> Thank you!</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exercise-solutions.html"><a href="exercise-solutions.html"><i class="fa fa-check"></i><b>4</b> Exercise Solutions</a><ul>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#building-an-r-package"><i class="fa fa-check"></i>Building an R Package</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#making-an-r-package-a-research-compendium"><i class="fa fa-check"></i>Making an R Package a Research Compendium</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#extensions-1"><i class="fa fa-check"></i>Extensions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Using R Packages for Reproducible Workflows</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="extensions" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Extensions</h1>
<div id="r-projects" class="section level2">
<h2><span class="header-section-number">3.1</span> R Projects</h2>
<p>When I first started coding in R, I would try to share my code with others and encountered a problem – my colleagues would copy, paste, and run my code but it would not work on their machine. Often this was because my scripts read in files from different file paths (locations) on my computer – and these file paths were unique to my machine!, To get my code to work, my colleagues would have to edit my code that used file paths so that they pointed to the correct files on their machine. Not only is this a lot to ask of someone, it also makes it incredibly error-prone. More often than not, I would have to meet with someone to get the code I sent them up and running. This was a waste of time for everyone involved.</p>
<p>R looks for files to load in a working directory. This is helpful because looking for files in a working directory prevents you from having to type out the full path to a file every time you want to load something. For example, suppose you are not using a working directory and you have several files to load that live in <code>a/long/path/with/s p a c e s/and/cH-a_r--aCt-er$!!!</code>. To load <code>my_cool_file.csv</code> and <code>my_other_cool_file.csv</code>, you have to run</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="extensions.html#cb110-1"></a><span class="kw">read.csv</span>(<span class="st">&quot;a/long/path/with/s p a c e s/and/cH-a_r--aCt-er$!!!/my_cool_file.csv&quot;</span>)</span></code></pre></div>
<p>and then retype (or copy/paste) the path to run</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="extensions.html#cb111-1"></a><span class="kw">read.csv</span>(<span class="st">&quot;a/long/path/with/s p a c e s/and/cH-a_r--aCt-er$!!!/my_other_cool_file.csv&quot;</span>)</span></code></pre></div>
<p>This workflow is tedious and error-prone. If you set your working directory to <code>a/really/long/path/with/s p a c e s/and/cH-a_r--aCt-er$!!!</code>, then to load <code>my_cool_file.csv</code> and <code>my_other_cool_file.csv</code>, you have to run</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="extensions.html#cb112-1"></a><span class="kw">read.csv</span>(<span class="st">&quot;my_cool_file.csv&quot;</span>)</span>
<span id="cb112-2"><a href="extensions.html#cb112-2"></a><span class="kw">read.csv</span>(<span class="st">&quot;my_other_cool_file.csv&quot;</span>)</span></code></pre></div>
<p>You can set working directories in R using <code>setwd()</code>, but this isn’t really a good idea for various reasons (you get to discuss them in the exercises). There is a better way to control your working directory – R projects!</p>
<p>R projects automatically set your working directory to live wherever the project is stored on your machine. So if I have <code>my_cool_file.csv</code> and <code>my_other_cool_file.csv</code> in the root (top-most level) of my R project, I can load them by running</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="extensions.html#cb113-1"></a><span class="kw">read.csv</span>(<span class="st">&quot;my_cool_file.csv&quot;</span>)</span>
<span id="cb113-2"><a href="extensions.html#cb113-2"></a><span class="kw">read.csv</span>(<span class="st">&quot;my_other_cool_file.csv&quot;</span>)</span></code></pre></div>
<p>while inside the R project. This is so powerful because that means I can bundle up my R project, send it to my colleague, and then the R project will set my colleague’s working directory to live wherever they save the project. That means that they can load <code>my_cool_file.csv</code> and <code>my_other_cool_file.csv</code> using the exact same code I used. No more file path problems – this is a vastly improved workflow. It may not seem like a big deal now, but learning how to use R projects makes sharing your work substantially easier.</p>
<p>A side benefit of R projects is that they provide a convenient structure by which to organize all the files associated with a particular task. To learn more about creating and maintaining R packages, visit here (<a href="https://r4ds.had.co.nz/workflow-projects.html">external link</a>) and here (<a href="https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects">external link</a>). If you do not use R projects yet, I recommend that you start.</p>
<div id="ex-set11" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>What are some drawbacks of running <code>setwd()</code> whenever you want to set a working directory?</p></li>
<li><p>Look into the here (<a href="https://here.r-lib.org/">external link</a>) package, designed to help solve working directory problems (that can even occur within R Projects).</p></li>
</ol>
</div>
<div id="renv" class="section level3">
<h3><span class="header-section-number">3.1.2</span> renv</h3>
<p>The renv (<a href="https://rstudio.github.io/renv/articles/renv.html">external link</a>) package brings R package version management to your projects. renv prevents code in your R project from returning separate results based on the version of the R packages installed. It works by saving the specific versions of the R packages in your project and then makes it easy for others to install those same versions before running code in the project.</p>
</div>
</div>
<div id="rmarkdown" class="section level2">
<h2><span class="header-section-number">3.2</span> R Markdown</h2>
<p>R Markdown documents provide a convenient way to combine text, R code, and results into a fully reproducible document that compiles (knits) to one of several output types (HTLM, PDF, word, slide decks, etc.). An R Markdown document has file extension <code>.Rmd</code> and can be created in RStudio by clicking “File -&gt; New File -&gt; R Markdown”, which brings up the following options
<img src="images/rmark1.PNG" width="100%" /></p>
<p>Pressing OK automatically opens a file with several contents</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb114-1"><a href="extensions.html#cb114-1"></a>---</span>
<span id="cb114-2"><a href="extensions.html#cb114-2"></a>title: &quot;Untitled&quot;</span>
<span id="cb114-3"><a href="extensions.html#cb114-3"></a>author: &quot;Michael Dumelle&quot;</span>
<span id="cb114-4"><a href="extensions.html#cb114-4"></a>date: &quot;9/17/2021&quot;</span>
<span id="cb114-5"><a href="extensions.html#cb114-5"></a>output: html_document</span>
<span id="cb114-6"><a href="extensions.html#cb114-6"></a>---</span>
<span id="cb114-7"><a href="extensions.html#cb114-7"></a></span>
<span id="cb114-8"><a href="extensions.html#cb114-8"></a><span class="bn">```{r setup, include=FALSE}</span></span>
<span id="cb114-9"><a href="extensions.html#cb114-9"></a><span class="bn">knitr::opts_chunk$set(echo = TRUE)</span></span>
<span id="cb114-10"><a href="extensions.html#cb114-10"></a><span class="bn">```</span></span>
<span id="cb114-11"><a href="extensions.html#cb114-11"></a></span>
<span id="cb114-12"><a href="extensions.html#cb114-12"></a><span class="fu">## R Markdown</span></span>
<span id="cb114-13"><a href="extensions.html#cb114-13"></a></span>
<span id="cb114-14"><a href="extensions.html#cb114-14"></a>This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <span class="ot">&lt;http://rmarkdown.rstudio.com&gt;</span>.</span>
<span id="cb114-15"><a href="extensions.html#cb114-15"></a></span>
<span id="cb114-16"><a href="extensions.html#cb114-16"></a>When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:</span>
<span id="cb114-17"><a href="extensions.html#cb114-17"></a></span>
<span id="cb114-18"><a href="extensions.html#cb114-18"></a><span class="bn">```{r cars}</span></span>
<span id="cb114-19"><a href="extensions.html#cb114-19"></a><span class="bn">summary(cars)</span></span>
<span id="cb114-20"><a href="extensions.html#cb114-20"></a><span class="bn">```</span></span>
<span id="cb114-21"><a href="extensions.html#cb114-21"></a></span>
<span id="cb114-22"><a href="extensions.html#cb114-22"></a><span class="fu">## Including Plots</span></span>
<span id="cb114-23"><a href="extensions.html#cb114-23"></a></span>
<span id="cb114-24"><a href="extensions.html#cb114-24"></a>You can also embed plots, for example:</span>
<span id="cb114-25"><a href="extensions.html#cb114-25"></a></span>
<span id="cb114-26"><a href="extensions.html#cb114-26"></a><span class="bn">```{r pressure, echo=FALSE}</span></span>
<span id="cb114-27"><a href="extensions.html#cb114-27"></a><span class="bn">plot(pressure)</span></span>
<span id="cb114-28"><a href="extensions.html#cb114-28"></a><span class="bn">```</span></span>
<span id="cb114-29"><a href="extensions.html#cb114-29"></a></span>
<span id="cb114-30"><a href="extensions.html#cb114-30"></a>Note that the <span class="bn">`echo = FALSE`</span> parameter was added to the code chunk to prevent printing of the R code that generated the plot.</span></code></pre></div>
<ul>
<li><p>The part surrounded by <code>---</code> is the YAML header, which contains metadata about your document – big picture options are controlled here. For more on YAML headers, check out the ymlthis package and its associated vignettes here (<a href="https://cran.r-project.org/web/packages/ymlthis/index.html">external link</a>).</p></li>
<li><p>The parts prefixed by <code>#</code> are first-level (section-level) headers, and the parts prefixed by <code>##</code> are second level (subsection-level) headers.</p></li>
<li><p>The parts surrounded by <code>```</code> are code chunks – these are the engine that powers R Markdown. Code chunks let you run and display R code and output in your document. More generally, code chunks look like</p></li>
</ul>
<div class="sourceCode" id="cb115"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb115-1"><a href="extensions.html#cb115-1"></a><span class="bn">```{r label, chunk_options}</span></span>
<span id="cb115-2"><a href="extensions.html#cb115-2"></a><span class="bn">R code</span></span>
<span id="cb115-3"><a href="extensions.html#cb115-3"></a><span class="bn">```</span></span></code></pre></div>
<ul>
<li>The line</li>
</ul>
<div class="sourceCode" id="cb116"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb116-1"><a href="extensions.html#cb116-1"></a>knitr::opts_chunk$set()</span></code></pre></div>
<p>lets you set default options for your code chunks. For example, <code>knitr::opts_chunk$set(echo = TRUE)</code> sets <code>echo = TRUE</code> for all all code chunks, unless a particular code chunk sets <code>echo = FALSE</code>. More information on available code chunk options is available here (<a href="https://yihui.org/knitr/options/">external link</a>).</p>
<ul>
<li>The rest of the document contains the body of the document – the plain text.</li>
</ul>
<p>For more on the structure of R Markdown documents, visit here (<a href="https://bookdown.org/yihui/rmarkdown-cookbook/conceptual-overview.html">external link</a>).</p>
<p>R Markdown documents are useful for a variety of reasons, two of which we will focus on next:</p>
<ol style="list-style-type: decimal">
<li>R Markdown lets you create fully reproducible documents by combining R code and text (these are often called <strong>dynamic</strong> documents). What if there is a slight change to the data? No problem, the tables or figures are reproduced when re-knitting. What if you want to use a new output style (like a PDF or Word Document)? No problem, just change <code>output:</code> and re-knit.</li>
<li>This approach is less error-prone and usually less work compared to the alternative approach of remaking tables, figures, etc. “by hand” and the inserting them manually into your document..</li>
</ol>
<p>For much, much more on R Markdown, read this (<a href="https://bookdown.org/yihui/rmarkdown/">external link</a>) and this (<a href="https://bookdown.org/yihui/rmarkdown-cookbook/">external link</a>). I highly recommend you get some experience with it, as its tools are immensely powerful.</p>
<div id="ex-set12" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>What benefits do you see to R Markdown documents?</p></li>
<li><p>Save the basic R Markdown template we just discussed and knit it to see its contents.</p></li>
</ol>
</div>
</div>
<div id="rticles" class="section level2">
<h2><span class="header-section-number">3.3</span> rticles</h2>
<p>The rticles package is an extension of R Markdown designed to make adhering to journal style requirements easier. Some journal types rticles accommodates are Elsevier, PLOS, Sage, Springer, and Taylor &amp; Francis, among others. After installing rticles (<code>install.packages("rticles")</code>), you can access article templates by starting a new R Markdown document and selecting the template tab
<img src="images/rmark2.PNG" width="100%" /></p>
<p>The rticles templates have complicated YAML headers, but they generally have pretty clear inline instructions for how to edit them. The YAML headers change between templates, but the body of the document is just standard R Markdown (potentially with some LaTeX). This is very convenient because the body of the document is the same across templates (potentially with minor LaTeX discrepancies that are generally explained in the template’s inline instructions). Decide you want to switch from an Elsevier journal to a Taylor &amp; Francis journal? No problem, just change the template type! For this reason, rticles is one my favorite R packages.</p>
<p>For a brief introduction LaTeX, see this (<a href="https://www.overleaf.com/learn/latex/Learn_LaTeX_in_30_minutes">external link</a>). While some working knowledge of LaTeX is not necessarily required to successfully use rticles, it can be immensely helpful.</p>
<div id="ex-set13" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li>Visit this (<a href="https://github.com/rstudio/rticles">external link</a>) to see all the journals that rticles has a template for.</li>
</ol>
</div>
</div>
<div id="git-github" class="section level2">
<h2><span class="header-section-number">3.4</span> Git and GitHub</h2>
<p>I highly recommend you learn how to use Git and GitHub. Though intimidating, frustrating, and time-consuming at first, Git and GitHub are well worth the effort. Git (<a href="https://git-scm.com/">external link</a>) is a version control system. A version control system keeps track of all changes made to your code in a Git repository (which is a <code>.git/</code> folder somewhere in your code – note the <code>.git/</code> folder is usually hidden). Git is useful on its own, but it benefits greatly from integration with GitHub. GitHub (<a href="https://github.com/">external link</a>) is a website that lets you easily share your code, collaborate with others, track changes to your code, and backup your code, among other features. Git and GitHub is by far the most popular version control system for R packages, and access to development versions of R packages is usually only available through GitHub.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="extensions.html#cb117-1"></a>devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;username/packagename&quot;</span>)</span></code></pre></div>
<p>Though we won’t get into details of Git and GitHub here (aside from a quick example we discuss next), luckily RStudio has many tools to enable R to communicate with Git and GitHub. For an intro to Git and GitHub through RStudio, visit this (<a href="https://r-pkgs.org/git.html">external link</a>). For a thorough book about using Git and GitHub through RStudio, visit this (<a href="https://happygitwithr.com/">external link</a>). For a video overview of using Git and GitHub through RStudio, watch this (<a href="https://www.rstudio.com/resources/rstudioconf-2017/happy-git-and-gihub-for-the-user-tutorial/">external link</a>).</p>
<div id="cloning-a-github-repository-in-rstudio" class="section level3">
<h3><span class="header-section-number">3.4.1</span> Cloning a GitHub Repository in RStudio</h3>
<p>After ensuring GitHub and R Studio can talk to one another, one GitHub and RStudio workflow is to create a repository on GitHub and then clone it using RStudio. After creating the repository on GitHub, copy the HTTPS URL:
<img src="images/newrpack_github1.PNG" width="100%" /></p>
<p>Then go to “File -&gt; New Project -&gt; Version Control -&gt; Git”. Copying and pasting the HTTPS URL in the “Repository URL:” field and pressing “Create Project” clones the repository and creates an R project in a folder with name given by the “Project directory name:” field (which defaults to the repository name) located at the “Create project as subdirectory of:” field. You can then use <code>usethis::create_package()</code> to turn the repository into an R package (note that <code>usethis::create_package(".")</code> creates a package in the current working directory).</p>
</div>
<div id="gitignore" class="section level3">
<h3><span class="header-section-number">3.4.2</span> <code>.gitignore</code></h3>
<p>The <code>.gitignore</code> file in your package files deserves some special attention. Similar to <code>.Rbuildignore</code>, <code>.gitignore</code> contains file paths that are stored locally but not meant to be put on GitHub. For more on <code>.gitignore</code>, visit here (<a href="https://r-pkgs.org/git.html#git-ignore">external link</a>).</p>
</div>
</div>
<div id="ci" class="section level2">
<h2><span class="header-section-number">3.5</span> Continuous Integration</h2>
<p>Continuous integration (often abbreviated CI) is the process of performing automated checks on code anytime it is updated. This may seem cumbersome, but it is a really good idea because it forces you to check for errors with every new version of code. One option for continuous integration in your R package’s GitHub repository is GitHub Actions (<a href="https://github.com/features/actions">external link</a>). devtools has several tools to help you set up GitHub actions. I recommend using their “standard” GitHub actions template, which can be added to your R project by running</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="extensions.html#cb118-1"></a><span class="kw">use_github_action</span>(<span class="dt">name =</span> <span class="st">&quot;check-standard&quot;</span>)</span></code></pre></div>
<pre><code>√ Creating &#39;.github/&#39;
√ Adding &#39;^\\.github$&#39; to &#39;.Rbuildignore&#39;
√ Adding &#39;*.html&#39; to &#39;.github/.gitignore&#39;
√ Creating &#39;.github/workflows/&#39;
√ Writing &#39;.github/workflows/check-standard.yaml&#39;
* Learn more at &lt;https://github.com/r-lib/actions/blob/master/examples/README.md&gt;</code></pre>
<p>You will notice that this code created a new folder at the root of our package named <code>.github</code>. The .github folder may be hidden so you may need to enable the viewing of hidden files to look through its contents on your machine (in the files pane of R studio click more and check “show hidden files”. Then every time you push to GitHub, GitHub actions will simulate <code>devtools::check()</code> on several operating systems (Windows, Mac, Linux) and return the results. To view this approach implemented for the RPRW package, visit this (<a href="https://github.com/michaeldumelle/RPRW/actions">external link</a>). Another option for continuous integration is Travis CI (<a href="https://travis-ci.org/">external link</a>).</p>
</div>
<div id="style" class="section level2">
<h2><span class="header-section-number">3.6</span> Code Style</h2>
<p>The tidyverse style guide (<a href="https://style.tidyverse.org/">external link</a>) provides a set of code-writing guidelines that help make your code as easy to read as possible. The tidyverse style guide claims “Good coding style is like correct punctuation: you can manage without it, butitsuremakesthingseasiertoread.”</p>
<p>The styler (<a href="https://styler.r-lib.org/">external link</a>) package lets you restyle text, files, or entire projects. It includes an RStudio add in and is integrated with usethis. For example,</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="extensions.html#cb120-1"></a>usethis<span class="op">::</span><span class="kw">use_tidy_style</span>()</span></code></pre></div>
<p>will automatically restyle all functions in your package’s <code>R</code> folder to conform to the tidyverse style guide.</p>
<p>The lintr (<a href="https://github.com/jimhester/lintr">external link</a>) package performs automated checks to help you conform to a style guide. The default style guide is the tidyverse style guide.</p>
</div>
<div id="add-tips" class="section level2">
<h2><span class="header-section-number">3.7</span> Additional Tips</h2>
<ul>
<li>RStudio has cheat sheets for many commonly used packages available here (<a href="https://www.rstudio.com/resources/cheatsheets/">external link</a>)</li>
<li>To view all R Studio keyboard shortcuts, go to “Tools (editor/upper-left window) -&gt; Keyboard Shortcuts Help” or press <code>Alt + Shift + K</code></li>
<li>The most recent R Studio version (1.4) is a large update with several wonderful new features – if you have not requested it yet, I recommend you do so. Two of these features are Visual R Markdown (<a href="https://blog.rstudio.com/2020/09/30/rstudio-v1-4-preview-visual-markdown-editing/">external link</a>) and the command palette (<a href="https://blog.rstudio.com/2020/10/14/rstudio-v1-4-preview-command-palette/">external link</a>).</li>
<li>I recommend you try and use the tidyverse (<a href="https://www.tidyverse.org/">external links</a>) for data analyses. The tidyverse is a collection of R packages designed to make data analyses easier to code and easier to comprehend. To learn more, read this (<a href="https://r4ds.had.co.nz/">external link</a>) cover-to-cover – it is one of my favorite books.</li>
<li>If you are building an R package you plan to submit to CRAN (i.e. the primary purpose of the R package is for others to download and use it – the primary purpose is NOT to be a research compendium), I recommend you try to only import absolutely necessary packages. The more packages your package imports, the higher the risk your package breaks when a package you depend on introduces an update / bug / etc. For example, if plan to use the purrr package (which is part of the tidyverse) for the <code>purrr::map()</code> function, consider using <code>lapply()</code> from the base package instead. If there is a base-R equivalent of a function you want in your package, use the base-R version, even if it means you have to relearn the base-R version
<ul>
<li>When I say base-R here, I mean any of the packages that come installed alongside R: the packages base, datasets, graphics, grDevices, methods, stats, and utils.</li>
</ul></li>
<li>Visit this (<a href="https://twitter.com/rstudiotips?lang=en">external link</a>) for more R tips and tricks</li>
<li>Sign up for R Weekly (<a href="https://rweekly.org/">external link</a>) to get weekly R updates.</li>
<li>You don’t have to learn how to do all of this all at once! Move at a pace you are comfortable with.</li>
<li>Everyone has their own coding style, and my recommendations may differ from your coding preferences – that is okay! All I hope is that you consider them.</li>
</ul>
<div id="ex-set14" class="section level3">
<h3><span class="header-section-number">3.7.1</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>A data set is called “tidy” if it has three qualities: 1) each variable has its own column, 2) each observation has its own row, and 3) each value has its own cell. Is <code>river</code> tidy? Why or why not?</p></li>
<li><p>Make <code>river</code> tidy.</p></li>
</ol>
</div>
</div>
<div id="thank-you" class="section level2">
<h2><span class="header-section-number">3.8</span> Thank you!</h2>
<p>Thank you so much for attending this workshop! I do genuinely appreciate you taking some time out of your day to take this journey with me, and I hope that you got something useful out of this workshop.</p>
<p><img src="images/thank_you.png" width="50%" style="display: block; margin: auto;" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-package-rc.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exercise-solutions.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/03-extensions.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
